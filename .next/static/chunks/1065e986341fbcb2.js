(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32189,(e,t,a)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},65156,(e,t,a)=>{"use strict";var n=e.r(32189);function r(){}function l(){}l.resetWarningCache=r,t.exports=function(){function e(e,t,a,r,l,s){if(s!==n){var i=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:r};return a.PropTypes=a,a}},45009,(e,t,a)=>{t.exports=e.r(65156)()},16015,(e,t,a)=>{},98547,(e,t,a)=>{var n=e.i(47167);e.r(16015);var r=e.r(71645),l=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),s=void 0!==n.default&&n.default.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,a=t.name,n=void 0===a?"stylesheet":a,r=t.optimizeForSpeed,l=void 0===r?s:r;d(i(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",d("boolean"==typeof l,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=l,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,a=e.prototype;return a.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},a.isOptimizeForSpeed=function(){return this._optimizeForSpeed},a.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(s||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,a){return"number"==typeof a?e._serverSheet.cssRules[a]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),a},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},a.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},a.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},a.insertRule=function(e,t){if(d(i(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var a=this.getSheet();"number"!=typeof t&&(t=a.cssRules.length);try{a.insertRule(e,t)}catch(t){return s||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var n=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,n))}return this._rulesCount++},a.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var a="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!a.cssRules[e])return e;a.deleteRule(e);try{a.insertRule(t,e)}catch(n){s||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),a.insertRule(this._deletedRulePlaceholder,e)}}else{var n=this._tags[e];d(n,"old rule at index `"+e+"` not found"),n.textContent=t}return e},a.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},a.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},a.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,a){return a?t=t.concat(Array.prototype.map.call(e.getSheetForTag(a).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},a.makeStyleTag=function(e,t,a){t&&d(i(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return a?r.insertBefore(n,a):r.appendChild(n),n},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return t>>>0},c={};function m(e,t){if(!t)return"jsx-"+e;var a=String(t),n=e+a;return c[n]||(c[n]="jsx-"+u(e+"-"+a)),c[n]}function h(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var a=e+t;return c[a]||(c[a]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[a]}var g=function(){function e(e){var t=void 0===e?{}:e,a=t.styleSheet,n=void 0===a?null:a,r=t.optimizeForSpeed,l=void 0!==r&&r;this._sheet=n||new o({name:"styled-jsx",optimizeForSpeed:l}),this._sheet.inject(),n&&"boolean"==typeof l&&(this._sheet.setOptimizeForSpeed(l),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var a=this.getIdAndRules(e),n=a.styleId,r=a.rules;if(n in this._instancesCounts){this._instancesCounts[n]+=1;return}var l=r.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[n]=l,this._instancesCounts[n]=1},t.remove=function(e){var t=this,a=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(a in this._instancesCounts,"styleId: `"+a+"` not found"),this._instancesCounts[a]-=1,this._instancesCounts[a]<1){var n=this._fromServer&&this._fromServer[a];n?(n.parentNode.removeChild(n),delete this._fromServer[a]):(this._indices[a].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[a]),delete this._instancesCounts[a]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],a=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return a[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,a;return t=this.cssRules(),void 0===(a=e)&&(a={}),t.map(function(e){var t=e[0],n=e[1];return l.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:a.nonce?a.nonce:void 0,dangerouslySetInnerHTML:{__html:n}})})},t.getIdAndRules=function(e){var t=e.children,a=e.dynamic,n=e.id;if(a){var r=m(n,a);return{styleId:r,rules:Array.isArray(t)?t.map(function(e){return h(r,e)}):[h(r,t)]}}return{styleId:m(n),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=r.createContext(null);function x(){return new g}function f(){return r.useContext(p)}p.displayName="StyleSheetContext";var b=l.default.useInsertionEffect||l.default.useLayoutEffect,k="undefined"!=typeof window?x():void 0;function y(e){var t=k||f();return t&&("undefined"==typeof window?t.add(e):b(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}y.dynamic=function(e){return e.map(function(e){return m(e[0],e[1])}).join(" ")},a.StyleRegistry=function(e){var t=e.registry,a=e.children,n=r.useContext(p),s=r.useState(function(){return n||t||x()})[0];return l.default.createElement(p.Provider,{value:s},a)},a.createStyleRegistry=x,a.style=y,a.useStyleRegistry=f},37902,(e,t,a)=>{t.exports=e.r(98547).style},91950,e=>{"use strict";e.s(["default",()=>e1],91950);var t=e.i(43476),a=e.i(70703),n=e.i(45009),r=e.i(71645),l=e.i(75254);let s=(0,l.default)("droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),i=(0,l.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);var o=e.i(83086);let d=(0,l.default)("sprout",[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]]),u=(0,r.createContext)(null);function c(e){let{value:a,defaultValue:n="dashboard",onValueChange:l,children:s,className:i}=e,o=void 0!==a,[d,c]=(0,r.useState)(n),m=o?a:d,h=e=>{o||c(e),null==l||l(e)};(0,r.useEffect)(()=>{o||c(n)},[n,o]);let g=(0,r.useMemo)(()=>({value:m,setValue:h}),[m]);return(0,t.jsx)(u.Provider,{value:g,children:(0,t.jsx)("div",{"data-slot":"tabs",className:"flex w-full flex-col gap-4 ".concat(i||""),children:s})})}function m(e){let{children:a,className:n,...r}=e;return(0,t.jsx)("div",{role:"tablist","aria-orientation":"horizontal",className:"mx-auto mb-6 flex max-w-md items-center justify-center rounded-full bg-pink-50 p-1 dark:bg-slate-800 ".concat(n||""),...r,children:a})}function h(e){let{value:a,children:n,className:l,...s}=e,i=(0,r.useContext)(u);if(!i)throw Error("TabsTrigger must be used inside <Tabs>.");let o=i.value===a;return(0,t.jsx)("button",{role:"tab",type:"button",value:a,"aria-selected":o,tabIndex:o?0:-1,onClick:()=>i.setValue(a),className:"flex-1 rounded-full px-4 py-2 text-sm font-medium transition-colors ".concat(o?"bg-white text-pink-600 shadow-sm":"text-slate-600 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200"," ").concat(l||""),...s,children:n})}function g(e){let{value:a,children:n,className:l,...s}=e,i=(0,r.useContext)(u);if(!i)throw Error("TabsContent must be used inside <Tabs>.");let o=i.value!==a;return(0,t.jsx)("div",{role:"tabpanel","aria-hidden":o,style:{display:o?"none":"block"},className:"w-full ".concat(l||""),...s,children:o?null:n})}var p=e.i(89970);function x(e){let{open:a,onBelum:n,onSudah:l,reducedMotion:s=!1}=e,i=(0,r.useRef)(null);if((0,r.useEffect)(()=>{let e;if(!a||!i.current)return;let t=i.current,n=t.querySelector(".gate-panel");s?(t.style.opacity="1",n.style.opacity="1",n.style.transform="none"):e=p.gsap.context(e=>{p.gsap.set(t,{autoAlpha:0}),p.gsap.set(n,{autoAlpha:0,scale:.92,y:24}),p.gsap.timeline({defaults:{ease:"power2.out"}}).to(t,{autoAlpha:1,duration:.2}).to(n,{autoAlpha:1,scale:1,y:0,duration:.35},"<"),n.querySelectorAll("[data-gate-button][data-ripple='true']").forEach(t=>{let a=p.gsap.timeline({paused:!0}).to(t,{scale:1.05,duration:.18,ease:"power2.out"}),n=()=>a.play(),r=()=>a.reverse();t.addEventListener("pointerenter",n),t.addEventListener("pointerleave",r),t.addEventListener("pointercancel",r),e.add(()=>{t.removeEventListener("pointerenter",n),t.removeEventListener("pointerleave",r),t.removeEventListener("pointercancel",r)})});let a=()=>document.hidden?p.gsap.globalTimeline.pause():p.gsap.globalTimeline.resume();document.addEventListener("visibilitychange",a),e.add(()=>document.removeEventListener("visibilitychange",a))},i);let r=Array.from(t.querySelectorAll("button, [href], input, select, textarea, [tabindex]")).filter(e=>{let t=e.getAttribute("tabindex"),a=null!==t&&0>parseInt(t,10),n="disabled"in e?e.disabled:null!==e.getAttribute("disabled"),r="true"===e.getAttribute("aria-hidden");return!a&&!n&&!r}),l=r[0],o=r[r.length-1],d=e=>{"Tab"===e.key&&r.length>1&&(e.shiftKey&&document.activeElement===l?(e.preventDefault(),null==o||o.focus()):e.shiftKey||document.activeElement!==o||(e.preventDefault(),null==l||l.focus())),"Escape"===e.key&&e.preventDefault()};return t.addEventListener("keydown",d),null==l||l.focus(),()=>{t.removeEventListener("keydown",d),e&&e.revert()}},[a,s]),!a)return null;function o(e){if(!i.current||s)return void e();let t=i.current,a=t.querySelector(".gate-panel");p.gsap.timeline({defaults:{ease:"power2.in"},onComplete:e}).to(a,{autoAlpha:0,y:-20,scale:.94,duration:.22}).to(t,{autoAlpha:0,duration:.18},"<0.05")}return(0,t.jsx)("div",{ref:i,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/55 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"onboarding-title","aria-describedby":"onboarding-subtitle",children:(0,t.jsx)("div",{className:"gate-panel w-full max-w-3xl rounded-[32px] bg-white/95 p-6 shadow-2xl sm:p-8",children:(0,t.jsxs)("div",{className:"grid gap-6 sm:grid-cols-[1.1fr_0.9fr] sm:items-center",children:[(0,t.jsxs)("div",{className:"space-y-5 text-center sm:text-left",children:[(0,t.jsx)("div",{className:"mx-auto h-24 w-48 sm:hidden",children:(0,t.jsx)("img",{src:"/image/placeholder-gate.png",alt:"Kartu sambutan Siklusku",className:"h-full w-full object-contain"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{id:"onboarding-title",className:"text-4xl font-semibold text-slate-900 text-center",children:"Apakah kamu sudah mengalami haid?"}),(0,t.jsxs)("p",{id:"onboarding-subtitle",className:"mt-3 text-m text-slate-600 text-center",children:["Ayo kenali lebih dalam diri kamu dengan membangun kebiasaan jurnaling siklus dan suasana hatimu. ",(0,t.jsx)("br",{}),"Psstt.. kalo kamu gak tau apa itu haid,",(0,t.jsx)("br",{}),"klik belumðŸ˜‰"]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-4",children:[(0,t.jsx)("button",{type:"button","aria-label":"Belum pernah haid","data-gate-button":!0,"data-ripple":"true",className:"relative inline-flex min-h-[52px] w-full items-center justify-center rounded-full bg-pink-500 px-6 py-3 text-base font-semibold text-white shadow-lg shadow-pink-200/60 transition-transform duration-200 ease-out hover:shadow-xl motion-safe:hover:scale-[1.03] motion-reduce:transform-none focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600 sm:flex-1 overflow-hidden",onClick:()=>o(n),children:"Belum"}),(0,t.jsx)("button",{type:"button","aria-label":"Sudah haid","data-gate-button":!0,"data-ripple":"true",className:"relative inline-flex min-h-[52px] w-full items-center justify-center rounded-full border border-pink-200 bg-white px-6 py-3 text-base font-semibold text-pink-600 shadow-md transition-transform duration-200 ease-out hover:shadow-lg motion-safe:hover:scale-[1.03] motion-reduce:transform-none focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600 sm:flex-1 overflow-hidden",onClick:()=>o(l),children:"Sudah"})]})]}),(0,t.jsx)("div",{className:"relative hidden justify-center sm:flex",children:(0,t.jsxs)("div",{className:"relative h-64 w-64",children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-full bg-pink-100 blur-3xl","aria-hidden":"true"}),(0,t.jsx)("img",{src:"/image/placeholder-gate.png",alt:"Ilustrasi remaja menunjuk kalender menstruasi",className:"relative z-10 h-full w-full object-contain"})]})})]})})})}var f=e.i(83495);p.gsap.registerPlugin(f.default);let b=[{id:"intro",title:"Apa itu haid?",description:"Haid (atau menstruasi) adalah proses alami di mana tubuh mengeluarkan darah dari rahim. Ini tandanya tubuh kamu sudah tumbuh menjadi perempuan dewasa.",accent:"from-pink-100 via-white to-orange-50",visual:{imageSrc:"/image/placeholder-gate.png",alt:"Remaja dan kalender haid"}},{id:"signs",title:"Kenapa haid bisa terjadi?",description:"Setiap bulan, tubuhmu mempersiapkan rahim untuk kehamilan. Kalau nggak terjadi pembuahan, lapisan rahim dilepaskan dan keluar sebagai darah haid.",accent:"from-rose-100 via-white to-purple-50",visual:{imageSrc:"/image/phase-luteal.png",alt:"Remaja dan bulan"}},{id:"prep",title:"Persiapan apa yang bisa kamu lakukan?",description:"Siapkan tas kecil berisi: tisu basah, pembalut, obat nyeri, dan celana dalam. Nanti kalau sudah haid, pahami siklusmu biar nggak kaget.",accent:"from-amber-100 via-white to-green-50",visual:{imageSrc:"/image/hero-vaksin.png",alt:"Remaja membawa obat"}},{id:"support",title:"Apa saja tanda menjelang haid?",description:"1-2 minggu sebelum haid kamu mungkin merasakan: kram perut, punggung pegal, jerawatan, mudah lelah, atau mood naik-turun. Semua itu normal! Tapi kalau ganggu aktivitasmu, catat aja di Siklusku. Pelajari polanya dan langsung cari bantuan kalau perlu.",accent:"from-blue-100 via-white to-emerald-50",visual:{imageSrc:"/image/phase-menstruation.png",alt:"Remaja membawa teh hangat"}}];function k(e){let{onComplete:a}=e,n=(0,r.useRef)(null),[l,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)(b[0].id);(0,r.useEffect)(()=>{let e=window.matchMedia("(prefers-reduced-motion: reduce)"),t=()=>s(e.matches);return t(),e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),(0,r.useEffect)(()=>{let e;if(!n.current)return;let t=Array.from(n.current.querySelectorAll("[data-guide-section]")),a=new IntersectionObserver(e=>{let t=e.filter(e=>e.isIntersecting).sort((e,t)=>t.intersectionRatio-e.intersectionRatio);if(t.length>0){let e=t[0].target.getAttribute("data-guide-section");e&&o(e)}},{root:null,threshold:[.25,.5,.75]});return t.forEach(e=>a.observe(e)),l||(e=p.gsap.context(()=>{t.forEach(e=>{f.default.create({trigger:e,start:"top 85%",once:!0,onEnter:()=>{p.gsap.fromTo(e,{autoAlpha:0,y:12,willChange:"transform, opacity"},{autoAlpha:1,y:0,duration:.5,ease:"power2.out",clearProps:"will-change"})}})})},n)),()=>{t.forEach(e=>a.unobserve(e)),a.disconnect(),f.default.getAll().forEach(e=>e.kill()),e&&e.revert()}},[l]);let d=(0,r.useMemo)(()=>b.map(e=>({id:e.id,title:e.title})),[]);return(0,t.jsxs)("div",{ref:n,className:"space-y-8",children:[(0,t.jsxs)("header",{className:"rounded-3xl bg-linear-to-r from-pink-100 via-white to-pink-50 p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"mt-2 text-2xl font-semibold text-slate-800",children:"Mari berkenalan dengan tubuhmu!"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:"Haid itu fase alami yang cuma dialami perempuan. Dan kamu gaperlu takut! Sini deh, aku kasih tau segalanya tentang haid."})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row",children:[(0,t.jsx)("nav",{"aria-label":"Progress panduan",className:"overflow-visible px-2 md:w-48 md:px-0",children:(0,t.jsx)("ol",{className:"flex flex-row gap-x-3 justify-between md:flex-col md:gap-4",children:d.map((e,a)=>{let n=e.id===i;return(0,t.jsxs)("li",{className:"flex min-w-0 items-center gap-3",children:[(0,t.jsx)("span",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full border text-xs font-semibold transition-colors ".concat(n?"border-pink-500 bg-pink-500 text-white":"border-pink-200 bg-white text-pink-400"),"aria-hidden":"true",children:a+1}),(0,t.jsx)("span",{className:"truncate text-xs font-medium ".concat(n?"text-pink-600":"text-slate-400"),"aria-current":n?"step":void 0,title:e.title,children:e.title})]},e.id)})})}),(0,t.jsx)("div",{className:"flex-1 space-y-6","aria-label":"Panduan persiapan haid",children:b.map((e,a)=>(0,t.jsx)("section",{id:e.id,"aria-labelledby":"".concat(e.id,"-heading"),"data-guide-section":e.id,className:"rounded-2xl border border-pink-100 bg-white p-6 shadow-sm",children:(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-[auto_1fr] sm:items-center bg-linear-to-r ".concat(e.accent," rounded-2xl p-5"),children:[(0,t.jsx)("div",{className:"relative flex h-28 w-28 items-center justify-center overflow-hidden rounded-2xl bg-white/70 shadow-sm",children:(0,t.jsx)("img",{src:e.visual.imageSrc,alt:e.visual.alt,className:"h-full w-full object-contain"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/70 text-base font-semibold text-pink-600","aria-hidden":"true",children:a+1}),(0,t.jsx)("h4",{id:"".concat(e.id,"-heading"),className:"text-lg font-semibold text-slate-800",children:e.title})]}),(0,t.jsx)("p",{className:"mt-3 text-sm leading-relaxed text-slate-600",children:e.description})]})]})},e.id))})]}),(0,t.jsx)("div",{className:"flex flex-col items-center gap-3 rounded-3xl bg-white p-6 text-center",children:(0,t.jsx)("button",{"data-ripple":"true",type:"button",className:"relative cursor-pointer rounded-full bg-pink-500 px-6 py-3 text-sm font-semibold text-white shadow-sm transition-transform duration-200 ease-out hover:shadow-lg motion-safe:hover:scale-[1.03] motion-reduce:transform-none focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600 overflow-hidden","aria-label":"Selesai membaca panduan, kembali ke dashboard",onClick:a,children:"Buka Siklusku"})})]})}var y=e.i(68834);let v={onboardingCompleted:"risa:cycleOnboardingCompleted",onboardingData:"risa:cycleOnboardingData",moodLogs:"risa:moodLogs",streak:"risa:streak",goals:"risa:goals",loveLetterShownOnce:"risa:loveLetterShownOnce",settings:"risa:settings"},j={[v.onboardingCompleted]:!1,[v.onboardingData]:{lastPeriodStart:null,lastPeriodEnd:null,cycleLength:28,periodLength:5,regularity:"regular",painScale:5,birthYear:null,goals:[]},[v.moodLogs]:[],[v.streak]:0,[v.goals]:[],[v.loveLetterShownOnce]:!1,[v.settings]:{nudgesEnabled:!0,reducedMotion:!1,lastNudgeShownDate:null}},w={[v.onboardingCompleted]:e=>"boolean"==typeof e,[v.onboardingData]:e=>e&&"object"==typeof e&&["cycleLength","periodLength"].every(t=>"number"==typeof e[t]),[v.moodLogs]:e=>Array.isArray(e),[v.streak]:e=>Number.isInteger(e)&&e>=0,[v.goals]:e=>Array.isArray(e),[v.loveLetterShownOnce]:e=>"boolean"==typeof e,[v.settings]:e=>e&&"object"==typeof e&&"boolean"==typeof e.nudgesEnabled&&"boolean"==typeof e.reducedMotion&&(null===e.lastNudgeShownDate||void 0===e.lastNudgeShownDate||"string"==typeof e.lastNudgeShownDate)};function N(){try{return window.localStorage}catch(e){return null}}function S(e,t){let a=w[e];return a?a(t)?t:j[e]:t}function D(e){let t=N();if(!t)return j[e];let a=function(e){if(null==e||""===e)return null;try{return JSON.parse(e)}catch(e){return null}}(t.getItem(e));return null==a?j[e]:S(e,a)}function L(e,t){let a=N();if(!a)return;let n=S(e,t);try{a.setItem(e,JSON.stringify(n))}catch(t){console.warn("Failed to persist value",e,t)}}function T(e){let t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?null:new Date(t.getFullYear(),t.getMonth(),t.getDate())}function M(e){if(!e)return null;if(e instanceof Date)return T(e);if("string"==typeof e){let t=e.split("-");if(3===t.length){let[e,a,n]=t.map(e=>Number.parseInt(e,10));if([e,a,n].every(e=>Number.isFinite(e))){let t=new Date(e,a-1,n);return Number.isNaN(t.getTime())?null:T(t)}}}return T(e)}function C(e,t){let a=Number.parseInt(e,10);return Number.isFinite(a)&&a>0?a:t}function A(e){let t=e.getFullYear();return[t,String(e.getMonth()+1).padStart(2,"0"),String(e.getDate()).padStart(2,"0")].join("-")}function E(e){let t=M(e);if(!t)return"";let a=String(t.getDate()).padStart(2,"0");return a+"/"+String(t.getMonth()+1).padStart(2,"0")+"/"+t.getFullYear()}function P(e,t){let a=M(e),n=M(t);return a&&n?Math.floor((n.getTime()-a.getTime())/864e5):null}function _(e){return e&&0!==e.length?Math.round(e.reduce((e,t)=>e+t,0)/e.length):null}function I(e){let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)}function F(e){if("string"!=typeof e)return null;let t=e.trim();if(!/^\d{4}-\d{2}-\d{2}$/.test(t))return null;let[a,n,r]=t.split("-"),l=Number(a),s=Number(n),i=Number(r);if(!Number.isFinite(l)||!Number.isFinite(s)||!Number.isFinite(i)||s<1||s>12||i<1||i>31)return null;let o=new Date(l,s-1,i);return o.getFullYear()!==l||o.getMonth()!==s-1||o.getDate()!==i?null:o}function O(e){if(!e)return null;if(e.date instanceof Date)return I(e.date);if("string"==typeof e.date){let t=F(e.date);if(t)return I(t)}return null}function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(e)||0===e.length)return 0;let t=I(new Date),a=Array.from(new Set(e.map(e=>O(e)).filter(e=>!!e))).filter(e=>e<=t);if(!a.length)return 0;a.sort();let n=1,r=0,l=null;return a.forEach(e=>{let t=F(e);t&&(r=l&&1===Math.round((t-l)/864e5)?r+1:1,n=Math.max(n,r),l=t)}),n}function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(e)||0===e.length)return 0;let t=new Date,a=new Date(t);a.setDate(a.getDate()-29);let n=I(t),r=I(a),l=new Set;return(e.forEach(e=>{let t=O(e);t&&(t<r||t>n||l.add(t))}),l.size)?Math.min(100,Math.round(l.size/30*100)):0}let z={MENSTRUATION:"menstruation",FOLLICULAR:"follicular",OVULATION:"ovulation",LUTEAL:"luteal"},K=Object.values(z),Y={[z.MENSTRUATION]:"Menstruasi",[z.FOLLICULAR]:"Folikuler",[z.OVULATION]:"Ovulasi",[z.LUTEAL]:"Luteal"};function H(e,t){let a=Number.parseInt(e,10);return Number.isFinite(a)&&a>0?a:t}function U(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null==t?void 0:t.lastPeriodStart,n=H(null==t?void 0:t.averageCycleLength,28),r=H(null==t?void 0:t.averagePeriodLength,5),l=K.reduce((e,t)=>(e[t]={},e),{}),s=K.reduce((e,t)=>(e[t]=null,e),{}),i=K.reduce((e,t)=>(e[t]={total:0,topMood:null,topCount:0,topPercentage:0,moodCounts:[]},e),{});if(!Array.isArray(e)||0===e.length||!a)return{byPhase:l,topMoodByPhase:s,summary:i,hasData:!1};e.forEach(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"==typeof e.mood?e.mood.toLowerCase():null;if(!t)return;let s=l[function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:28,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=H(t,28),r=Math.min(n,Math.max(1,H(a,5)));if(!e)return z.MENSTRUATION;let l=(Math.round(e)-1+n)%n+1;if(l<=r)return z.MENSTRUATION;let s=Math.min(n-1,Math.max(r+1,n-14)),i=Math.min(n,s+1);return l>=s&&l<=i?z.OVULATION:l<s?z.FOLLICULAR:z.LUTEAL}(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28,n=H(a,28),r=new Date(e),l=new Date(t);if(Number.isNaN(r.getTime())||Number.isNaN(l.getTime()))return 1;let s=Math.floor((r.getTime()-l.getTime())/864e5)+1;if(s<=0){let e=(s%n+n)%n;return 0===e?n:e}return(s-1)%n+1}(e.date,a,n),n,r)];s[t]=(s[t]||0)+1});let o=!1;return K.forEach(e=>{let t=Object.entries(l[e]).filter(e=>{let[,t]=e;return t>0}).sort((e,t)=>t[1]===e[1]?e[0].localeCompare(t[0]):t[1]-e[1]),a=t.reduce((e,t)=>{let[,a]=t;return e+a},0),n=t[0]||null,r=t.map(e=>{let[t,n]=e;return{mood:t,count:n,percentage:a>0?Math.round(n/a*100):0}});i[e]={total:a,topMood:n?n[0]:null,topCount:n?n[1]:0,topPercentage:n&&a>0?Math.round(n[1]/a*100):0,moodCounts:r},s[e]=i[e].topMood,a>0&&(o=!0)}),{byPhase:l,topMoodByPhase:s,summary:i,hasData:o}}function q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=Number.parseInt(e,10);return Number.isFinite(a)&&a>0?a:t}let V=[{id:"streak_7",title:"7-Day Streak",description:"Catat mood 7 hari berturut-turut.",condition:e=>Number.isInteger(e.streak)&&e.streak>=7},{id:"streak_30",title:"30-Day Club",description:"Pertahankan streak selama 30 hari penuh.",condition:e=>Number.isInteger(e.streak)&&e.streak>=30},{id:"cycle_predictor",title:"Cycle Predictor Pro",description:"Lengkapi data onboarding untuk bantu prediksi siklus.",condition:e=>(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.onboardingCompleted)return!1;let t=e.onboardingData||{},a=!!t.lastPeriodStart,n=q(t.cycleLength,0)>0,r=q(t.periodLength,0)>0;return a&&n&&r})(e)},{id:"monthly_mood_master",title:"Monthly Mood Master",description:"Catat minimal 20 hari mood dalam bulan ini.",condition:e=>(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Date,a="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0")),n=new Set;return e.forEach(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){if(!e)return null;let t=e instanceof Date?e:new Date(e);if(Number.isNaN(t.getTime()))return null;let a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(r)}(e.date);t&&t.startsWith(a)&&n.add(t)}),n.size})(e.moodLogs)>=20}];function J(e){return e&&Array.isArray(e.moodLogs)?V.filter(t=>{try{return!0===t.condition(e)}catch(e){return console.error("Error evaluating achievement ".concat(t.id,":"),e),!1}}):[]}let G=["happy","sad","angry","anxious","normal"];function W(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=function(e){let t=e instanceof Date?e:new Date(e);if(Number.isNaN(t.getTime()))return null;let a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(r)}(t.date||new Date),n=null!=(e=function(e){if(!e||"string"!=typeof e)return null;let t=e.trim().toLowerCase();return G.includes(t)?t:null}(t.mood))?e:"normal",r="string"==typeof t.note?t.note.trim():"";return{...t,date:a,mood:n,note:r}}function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{days:t=30}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Array.isArray(e)||0===e.length)return{};let a=new Date,n=new Date(a.getFullYear(),a.getMonth(),a.getDate());n.setDate(n.getDate()-(Number.isFinite(t)?t:30)+1);let r={};for(let t of e){let e=W(t);if(!e.date)continue;let l=new Date(e.date+"T00:00:00");l>=n&&l<=a&&(r[e.mood]=(r[e.mood]||0)+1)}return r}let $=j[v.onboardingData],Q=j[v.goals];function Z(e){let t=e instanceof Date?e:new Date(e);if(Number.isNaN(t.getTime()))return null;let a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(r)}function ee(e){return Array.isArray(e)?e.map(e=>(function(e){if(!e)return null;let t=Z(e.start||e.date);if(!t)return null;let a={start:t},n=Z(e.end);n&&(a.end=n);let r=(e=>{let t=Number.parseInt(e,10);return Number.isFinite(t)?Math.min(10,Math.max(1,t)):null})(e.painScale);return r&&(a.painScale=r),a})(e)).filter(Boolean):[]}function et(e){return Array.isArray(e)?Array.from(new Set(e.map(e=>String(e)))).filter(e=>e.trim().length>0):[]}function ea(e,t){let a=Number.parseInt(e,10);return Number.isFinite(a)&&a>0?a:t}function en(e){let{lastPeriodStart:t,lastPeriodEnd:a,cycleLength:n,periodLength:r,periodHistory:l}=e||{},s=ee(l),i=Z(t),o=Z(a);if(i){let e=s.findIndex(e=>e.start===i);e>=0?o&&(s[e]={...s[e],end:o}):s.push({start:i,end:o||null})}s.sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime());let d=ea(n,0),u=s.map(e=>({...e}));if(u.length>0&&d>0){let e=Z(u[u.length-1].start);if(e){let t=new Date(e);if(!Number.isNaN(t.getTime())){t.setDate(t.getDate()+d);let e=Z(t);e&&!u.some(t=>t.start===e)&&u.push({start:e,predicted:!0})}}}let c=ea(r,0),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(e)||0===e.length)return{averageCycleLength:28,averagePeriodLength:5,cycleHistory:[]};let t=[...e].map(e=>{let t=M(e.start);if(!t)return null;let a=e.end?M(e.end):null;return{start:t,end:a,startIso:A(t),endIso:a?A(a):null,predicted:!!e.predicted}}).filter(Boolean).sort((e,t)=>e.start.getTime()-t.start.getTime());if(0===t.length)return{averageCycleLength:28,averagePeriodLength:5,cycleHistory:[]};let a=[],n=[],r=[];return t.forEach((e,l)=>{if(e.end){let t=function(e,t){let a=P(e,t);return null===a?null:Math.max(1,a+1)}(e.start,e.end);t&&n.push(t)}let s=t[l+1];if(s){let t=function(e,t){let a=P(e,t);return null===a?null:Math.max(1,a)}(e.start,s.start);t&&(a.push(t),e.predicted||s.predicted||r.push({start:e.startIso,end:s.startIso,length:t}))}}),{averageCycleLength:_(a)||28,averagePeriodLength:_(n)||5,cycleHistory:r}}(u.map(e=>{if(e.end||e.predicted||c<=0)return{start:e.start,end:e.end,predicted:!!e.predicted};let t=new Date(e.start);if(Number.isNaN(t.getTime()))return{start:e.start,end:e.end,predicted:!!e.predicted};let a=new Date(t.getTime()+(c-1)*864e5);return{start:e.start,end:Z(a),predicted:!!e.predicted}})),h=d||m.averageCycleLength,g=c||m.averagePeriodLength;return{...m,averageCycleLength:h,averagePeriodLength:g,lastPeriodStart:i||null,lastPeriodEnd:o||null}}function er(e){if(!e)return!1;let t=new Date(e+"T00:00:00"),a=new Date,n=new Date(a.getFullYear(),a.getMonth(),a.getDate());return t.getTime()>n.getTime()}let el=(0,y.create)((e,t)=>({hydrated:!1,onboardingCompleted:j[v.onboardingCompleted],onboardingData:{...$},moodLogs:j[v.moodLogs],goals:[...Q],cycleSummary:en($),activeView:"dashboard",loveLetterShown:j[v.loveLetterShownOnce],streak:0,consistency:0,moodDistribution:X([],{days:30}),moodPatterns:U([],{}),achievements:[],hydrate:()=>{if(t().hydrated)return;let a=D(v.onboardingCompleted),n=D(v.onboardingData),r=et(n.goals),l={...n,goals:r},s=D(v.moodLogs).map(e=>W(e)),i=et(D(v.goals)),o=i.length>0?i:r,d=en(l),u=D(v.loveLetterShownOnce),c=R(s);L(v.streak,c);let m=B(s),h=X(s,{days:30}),g=U(s,d),p=J({moodLogs:s,streak:c,consistency:m,cycleSummary:d,onboardingCompleted:a,onboardingData:l}),x=(()=>{try{let e=localStorage.getItem("risa:dailyLogs");return e?JSON.parse(e):[]}catch(e){return[]}})();e({hydrated:!0,onboardingCompleted:a,onboardingData:l,moodLogs:s,goals:o,cycleSummary:d,loveLetterShown:u,streak:c,consistency:m,moodDistribution:h,moodPatterns:g,achievements:p,dailyLogs:Array.isArray(x)?x:[]})},setActiveView:t=>e({activeView:t}),setOnboardingCompleted:t=>{let a=!!t;L(v.onboardingCompleted,a),e(e=>{let t=J({moodLogs:e.moodLogs,streak:e.streak,consistency:e.consistency,cycleSummary:e.cycleSummary,onboardingCompleted:a,onboardingData:e.onboardingData});return{onboardingCompleted:a,achievements:t}})},updateOnboardingDraft:a=>{let n={...t().onboardingData,...a};Object.prototype.hasOwnProperty.call(a,"goals")&&(n.goals=et(a.goals)),e({onboardingData:n,cycleSummary:en(n)})},commitOnboardingData:()=>{let a=t(),n=et(a.onboardingData.goals),r={...a.onboardingData,goals:n};L(v.onboardingData,r),L(v.goals,n);let l=en(r),s=J({moodLogs:a.moodLogs,streak:a.streak,consistency:a.consistency,cycleSummary:l,onboardingCompleted:a.onboardingCompleted,onboardingData:r});e({onboardingData:r,cycleSummary:l,goals:n,achievements:s})},resetOnboardingData:()=>{let t={...$,goals:et($.goals)},a=et(Q);L(v.onboardingData,t),L(v.goals,a),L(v.loveLetterShownOnce,!1),e(e=>{let n=en(t),r=J({moodLogs:e.moodLogs,streak:e.streak,consistency:e.consistency,cycleSummary:n,onboardingCompleted:e.onboardingCompleted,onboardingData:t});return{onboardingData:t,cycleSummary:n,goals:a,loveLetterShown:!1,achievements:r}})},addPeriod:a=>{var n;let{start:r,end:l=null,painScale:s=null}=a||{},i=Z(r),o=l?Z(l):null;if(!i)throw Error("Tanggal mulai diperlukan.");if(er(i))throw Error("Tanggal mulai tidak boleh di masa depan.");if(o){if(er(o))throw Error("Tanggal selesai tidak boleh di masa depan.");if(new Date(o)<new Date(i))throw Error("Tanggal selesai tidak boleh sebelum tanggal mulai.")}let d=t(),u=d.onboardingData||{},c=ee(u.periodHistory);if(c.some(e=>e.start===i))throw Error("Sudah ada catatan dengan tanggal mulai tersebut.");for(let e of c)if(function(e,t,a,n){let r=new Date(e).getTime(),l=new Date((t||e)+"T00:00:00").getTime(),s=new Date(a).getTime();return r<=new Date((n||a)+"T00:00:00").getTime()&&s<=l}(i,o,e.start,e.end||e.start))throw Error("Rentang tanggal tumpang tindih dengan catatan lain.");let m={start:i,end:o||null},h=function(e){let t=Number.parseInt(e,10);return Number.isFinite(t)?Math.min(10,Math.max(1,t)):null}(s);h&&(m.painScale=h);let g=[...c,m].sort((e,t)=>new Date(e.start)-new Date(t.start)),p={...u,periodHistory:g,lastPeriodStart:i,lastPeriodEnd:o};L(v.onboardingData,p);let x=en(p),f=x.averageCycleLength,b=x.averagePeriodLength;if((null==(n=p.periodHistory)?void 0:n.length)>=2){let e=p.periodHistory.filter(e=>e.start).map(e=>({start:new Date(e.start+"T00:00:00"),end:e.end?new Date(e.end+"T00:00:00"):null})).sort((e,t)=>e.start-t.start),t=[];for(let a=1;a<e.length;a++){let n=Math.round((e[a].start-e[a-1].start)/864e5);n>=15&&n<=60&&t.push(n)}t.length&&(f=Math.round(t.reduce((e,t)=>e+t,0)/t.length));let a=e.map(e=>e.end?Math.round((e.end-e.start)/864e5)+1:null).filter(e=>Number.isFinite(e)&&e>0&&e<=15);a.length&&(b=Math.round(a.reduce((e,t)=>e+t,0)/a.length))}let k={...x,averageCycleLength:f,averagePeriodLength:b};L(v.onboardingCompleted,!0);let y=new Date;y.setMonth(y.getMonth()-12);let j=g.filter(e=>e.painScale&&new Date(e.start)>=y).map(e=>({date:e.start,pain:e.painScale})),w=Object.values(j.reduce((e,t)=>{let a=new Date(t.date),n="".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"));return e[n]=e[n]||{month:n,total:0,count:0},e[n].total+=t.pain,e[n].count+=1,e},{})).map(e=>({month:e.month,avgPain:Math.round(e.total/e.count*10)/10})).sort((e,t)=>e.month<t.month?-1:1),N=J({moodLogs:d.moodLogs,streak:d.streak,consistency:d.consistency,cycleSummary:k,onboardingCompleted:!0,onboardingData:p});e({onboardingData:p,cycleSummary:k,achievements:N,painPointsLast12M:j,painMonthlyLast12M:w,onboardingCompleted:!0})},addMoodLog:a=>{let n=W(a),r=t(),l=n.date,s=[...(Array.isArray(r.moodLogs)?r.moodLogs:[]).filter(e=>e.date!==l),n];L(v.moodLogs,s);let i=R(s);L(v.streak,i);let o=B(s),d=X(s,{days:30}),u=U(s,r.cycleSummary),c=J({moodLogs:s,streak:i,consistency:o,cycleSummary:r.cycleSummary,onboardingCompleted:r.onboardingCompleted,onboardingData:r.onboardingData});e({moodLogs:s,streak:i,consistency:o,moodDistribution:d,moodPatterns:u,achievements:c})},replaceMoodLogs:a=>{let n=a.map(e=>W(e));L(v.moodLogs,n);let r=R(n);L(v.streak,r);let l=B(n),s=X(n,{days:30}),i=t(),o=U(n,i.cycleSummary),d=J({moodLogs:n,streak:r,consistency:l,cycleSummary:i.cycleSummary,onboardingCompleted:i.onboardingCompleted,onboardingData:i.onboardingData});e({moodLogs:n,streak:r,consistency:l,moodDistribution:s,moodPatterns:o,achievements:d})},setGoals:t=>{let a=et(t);L(v.goals,a),e({goals:a})},markLoveLetterShown:()=>{L(v.loveLetterShownOnce,!0),e({loveLetterShown:!0})},resetLoveLetter:()=>{L(v.loveLetterShownOnce,!1),e({loveLetterShown:!1})},dailyLogs:[],addDailyLog:a=>{let n,r=t(),l=r.dailyLogs.findIndex(e=>e.date===a.date);l>=0?(n=[...r.dailyLogs])[l]={...n[l],...a}:n=[...r.dailyLogs,a],n.sort((e,t)=>new Date(t.date)-new Date(e.date));try{localStorage.setItem("risa:dailyLogs",JSON.stringify(n))}catch(e){console.warn("Failed to save daily logs:",e)}e({dailyLogs:n})},loadDailyLogs:()=>{try{let t=localStorage.getItem("risa:dailyLogs");if(t){let a=JSON.parse(t);e({dailyLogs:Array.isArray(a)?a:[]})}}catch(t){console.warn("Failed to load daily logs:",t),e({dailyLogs:[]})}}})),es=["Sen","Sel","Rab","Kam","Jum","Sab","Min"];function ei(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}function eo(e){if(!e&&0!==e)return null;if(e instanceof Date)return new Date(e.getFullYear(),e.getMonth(),e.getDate());if("string"==typeof e){let t=e.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(t)return new Date(+t[1],t[2]-1,+t[3])}let t=new Date(e);return Number.isNaN(t.getTime())?null:new Date(t.getFullYear(),t.getMonth(),t.getDate())}function ed(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function eu(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function ec(e){let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)}function em(e){let{value:a={},onChange:n,max:l,min:s,className:i,ariaInvalid:o=!1,ariaDescribedBy:d}=e,u=eo(new Date),c=eo(l)||u,m=eo(s),h=eo(a.start),g=eo(a.end),p=h||g||c||u,[x,f]=(0,r.useState)(p),b=(0,r.useRef)(null),k=(0,r.useRef)(null);(0,r.useEffect)(()=>{h&&!eu(h,x)&&f(h)},[a.start]),(0,r.useEffect)(()=>{h||!g||eu(g,x)||f(g)},[a.end]),(0,r.useEffect)(()=>{if(b.current&&k.current){let e=k.current.querySelector('[data-day="'.concat(b.current,'"]'));e&&(e.focus(),b.current=null)}},[x,h,g]);let y=(0,r.useMemo)(()=>{let e=new Date(x.getFullYear(),x.getMonth(),1),t=(e.getDay()+6)%7,a=ed(e,-t);return Array.from({length:42},(e,t)=>ed(a,t))},[x]),v=!m||x.getFullYear()>m.getFullYear()||x.getFullYear()===m.getFullYear()&&x.getMonth()>m.getMonth(),j=!c||x.getFullYear()<c.getFullYear()||x.getFullYear()===c.getFullYear()&&x.getMonth()<c.getMonth(),w=h?h.getTime():null,N=g?g.getTime():null,S=c?c.getTime():null,D=m?m.getTime():null,L=(0,r.useMemo)(()=>({start:h?ec(h):null,end:g?ec(g):null}),[h,g]);function T(e){"function"==typeof n&&n({start:e.start||null,end:e.end||null})}function M(e,t){let a=t.getTime();if(null!==D&&a<D||null!==S&&a>S)return;let n=L.start,r=L.end;if(!n||r)return void T({start:e,end:null});e<n?T({start:e,end:n}):T({start:n,end:e})}function C(e,t){f(e),b.current=t}let A=(0,r.useMemo)(()=>new Intl.DateTimeFormat("id-ID",{month:"long",year:"numeric"}),[]);return(0,t.jsxs)("div",{className:ei("space-y-3",i),children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-slate-700",children:"Pilih rentang tanggal"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Klik tanggal mulai lalu tanggal selesai haidmu."})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{if(!v)return;let e=new Date(x.getFullYear(),x.getMonth()-1,1);C(e,ec(e))},disabled:!v,className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600 disabled:opacity-40",children:"Sebelumnya"}),(0,t.jsx)("button",{type:"button",onClick:()=>{if(!j)return;let e=new Date(x.getFullYear(),x.getMonth()+1,1);C(e,ec(e))},disabled:!j,className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600 disabled:opacity-40",children:"Berikutnya"})]})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-pink-100 bg-white p-4 shadow-sm",children:[(0,t.jsx)("div",{className:"mb-3 flex items-center justify-between",children:(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-700",children:A.format(x)})}),(0,t.jsxs)("div",{role:"grid","aria-label":"Kalender pemilihan rentang haid","aria-invalid":o?"true":void 0,"aria-describedby":d,className:"grid grid-cols-7 gap-1",ref:k,children:[es.map(e=>(0,t.jsx)("div",{role:"columnheader",className:"h-8 text-center text-[11px] font-semibold uppercase tracking-wide text-slate-400",children:e},e)),y.map(function(e){let a=ec(e),n=e.getTime(),r=null!==D&&n<D||null!==S&&n>S,l=null!==w&&n===w,s=null!==N&&n===N,i=null!==w&&null!==N&&n>w&&n<N,o=!eu(e,x),d=u&&n===u.getTime(),c=ei("flex h-10 w-10 items-center justify-center rounded-full text-sm font-medium transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-500",r&&"cursor-not-allowed text-slate-300",!r&&(l||s)&&"bg-pink-500 text-white",!r&&!l&&!s&&i&&"bg-pink-100 text-pink-600",!r&&!l&&!s&&!i&&o&&"text-slate-400",!r&&!l&&!s&&!i&&!o&&"text-slate-700 hover:bg-pink-50"),m=[E(a)||a];return d&&m.push("(hari ini)"),(0,t.jsx)("button",{type:"button","data-day":a,className:c,onClick:()=>M(a,e),onKeyDown:t=>(function(e,t){let a={ArrowRight:1,ArrowLeft:-1,ArrowUp:-7,ArrowDown:7};if(a[e.key]){e.preventDefault();let n=ed(t,a[e.key]),r=ec(n);eu(n,x)?function(e){if(!k.current){b.current=e;return}let t=k.current.querySelector('[data-day="'.concat(e,'"]'));t?(t.focus(),b.current=null):b.current=e}(r):C(n,r);return}("Enter"===e.key||" "===e.key)&&(e.preventDefault(),M(ec(t),t))})(t,e),disabled:r,role:"gridcell","aria-selected":l||s,"aria-label":m.join(" "),children:(0,t.jsxs)("span",{className:"relative",children:[e.getDate(),d?(0,t.jsx)("span",{className:"absolute left-1/2 top-[85%] -translate-x-1/2 block h-1 w-1 rounded-full bg-pink-500"}):null]})},a)})]})]})]}),(0,t.jsx)("div",{className:"rounded-xl bg-pink-50 px-4 py-3 text-xs text-pink-700",children:(0,t.jsxs)("p",{children:["Terpilih:"," ",L.start?E(L.start):"Belum ada",L.start?" â†’ ":"",L.start?L.end?E(L.end):"pilih tanggal selesai":""]})})]})}let eh=()=>new Date().toISOString().slice(0,10);function eg(e){let{values:a,errors:n,onChange:l}=e,s=eh(),i=(0,r.useMemo)(()=>({start:a.lastPeriodStart||null,end:a.lastPeriodEnd||null}),[a.lastPeriodStart,a.lastPeriodEnd]),o=(0,r.useMemo)(()=>{let e=function(e,t){if(!e||!t)return null;let a=new Date(e),n=new Date(t);if(Number.isNaN(a.getTime())||Number.isNaN(n.getTime()))return null;let r=n.getTime()-a.getTime();return!Number.isFinite(r)||r<0?null:Math.floor(r/864e5)+1}(a.lastPeriodStart,a.lastPeriodEnd);return!e||e<=8?null:"Durasi haidmu lebih dari 8 hari. Kalau ini baru terjadi, coba diskusikan dengan orang dewasa atau tenaga kesehatan yang kamu percaya."},[a.lastPeriodStart,a.lastPeriodEnd]),d=Array.from({length:10},(e,t)=>t+1);return(0,t.jsxs)("fieldset",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold text-slate-800",children:"Tanggal haid terakhirmu"}),(0,t.jsx)(em,{value:i,onChange:function(e){l("lastPeriodStart",e.start||null),l("lastPeriodEnd",e.end||null)},max:s,ariaInvalid:!!n.lastPeriodStart||!!n.lastPeriodEnd,ariaDescribedBy:[n.lastPeriodStart?"lastPeriodStart-error":null,n.lastPeriodEnd?"lastPeriodEnd-error":null].filter(Boolean).join(" ")||void 0}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[(0,t.jsxs)("span",{children:["Mulai: ",i.start?E(i.start):"Belum dipilih"]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:["Selesai: ",i.end?E(i.end):"Belum dipilih"]})]}),(0,t.jsxs)("div",{className:"space-y-1 text-xs text-red-500","aria-live":"polite",children:[n.lastPeriodStart?(0,t.jsx)("p",{id:"lastPeriodStart-error",role:"alert",children:n.lastPeriodStart}):null,n.lastPeriodEnd?(0,t.jsx)("p",{id:"lastPeriodEnd-error",role:"alert",children:n.lastPeriodEnd}):null]}),o?(0,t.jsx)("p",{className:"text-xs text-amber-600",children:o}):null]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"Skala nyeri haidmu"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",role:"radiogroup","aria-label":"Skala nyeri haid 1 sampai 10",children:d.map(e=>(0,t.jsx)("button",{type:"button",role:"radio","aria-checked":a.painScale===e,onClick:()=>l("painScale",e),className:"h-9 w-9 rounded-full border text-sm font-medium transition-transform focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-500 hover:scale-105 cursor-pointer ".concat(a.painScale===e?"border-pink-500 bg-pink-500 text-white":"border-slate-200 bg-white text-slate-600"),children:e},e))}),n.painScale?(0,t.jsx)("span",{id:"painScale-error",role:"alert",className:"text-xs text-red-500",children:n.painScale}):null]})]})}function ep(e){let t={},a=eh();e.lastPeriodStart?e.lastPeriodStart>a&&(t.lastPeriodStart="Tanggal tidak boleh di masa depan"):t.lastPeriodStart="Isi tanggal mulai ya",e.lastPeriodEnd?e.lastPeriodEnd>a&&(t.lastPeriodEnd="Tanggal tidak boleh di masa depan"):t.lastPeriodEnd="Isi tanggal selesai ya",e.lastPeriodStart&&e.lastPeriodEnd&&e.lastPeriodEnd<e.lastPeriodStart&&(t.lastPeriodEnd="Tanggal selesai tidak boleh sebelum tanggal mulai");let n=Number(e.painScale);return(!Number.isFinite(n)||n<1||n>10)&&(t.painScale="Pilih skala nyeri 1â€“10"),t}function ex(e){let{onComplete:a}=e,n=el(e=>e.onboardingData),l=el(e=>e.updateOnboardingDraft),s=el(e=>e.commitOnboardingData),i=el(e=>e.setOnboardingCompleted),[o,d]=(0,r.useState)({}),u=(0,r.useRef)(null),c=(0,r.useRef)(null),[m,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=window.matchMedia("(prefers-reduced-motion: reduce)"),t=()=>h(e.matches);return t(),e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),(0,r.useEffect)(()=>{if(!u.current||m)return;let e=p.gsap.context(()=>{p.gsap.fromTo(u.current,{autoAlpha:0,y:12},{autoAlpha:1,y:0,duration:.4,ease:"power2.out"})},u);return()=>null==e?void 0:e.revert()},[m]),(0,r.useEffect)(()=>{var e;null==(e=c.current)||e.focus()},[]);let g=(0,r.useMemo)(()=>{var e,t,a;return{lastPeriodStart:null!=(e=n.lastPeriodStart)?e:null,lastPeriodEnd:null!=(t=n.lastPeriodEnd)?t:null,painScale:null!=(a=n.painScale)?a:5}},[n]),x=(0,r.useMemo)(()=>ep(g),[g]),f=Object.values(o).find(Boolean)||"",b=f?"onboarding-error-message":void 0;return(0,t.jsxs)("div",{className:"space-y-6",ref:u,children:[f?(0,t.jsx)("span",{id:b,className:"sr-only","aria-live":"assertive",children:f}):null,(0,t.jsxs)("header",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-pink-500",children:"Informasi Haid Terakhir"}),(0,t.jsx)("h3",{ref:c,tabIndex:-1,className:"text-2xl font-semibold text-slate-800",children:"Tanggal & Skala Nyeri"})]}),(0,t.jsx)("div",{className:"rounded-3xl border border-pink-100 bg-white p-6 shadow-sm",children:(0,t.jsx)(eg,{values:g,errors:o,onChange:function(e,t){d(t=>({...t,[e]:void 0}));let a=t;if("lastPeriodStart"===e||"lastPeriodEnd"===e)a=t||null;else if("painScale"===e)if(null==t||""===t)a=null;else if("number"==typeof t)a=Number.isFinite(t)?t:null;else{let e=Number.parseInt(t,10);a=Number.isFinite(e)?e:null}null==l||l({[e]:a})}})}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-end gap-3 sm:flex-row sm:justify-end",children:[(0,t.jsx)("button",{type:"button","data-ripple":"true",onClick:function(){try{localStorage.removeItem("risa:loveLetterEligible")}catch(e){}null==a||a()},className:"rounded-full border border-pink-300 bg-white px-6 py-2 text-sm font-medium text-pink-600 hover:bg-pink-50 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-400 transition",children:"Batal"}),(0,t.jsx)("button",{type:"button","data-ripple":"true",className:"relative rounded-full bg-pink-500 px-6 py-2 text-sm font-semibold text-white shadow-sm transition-transform duration-200 ease-out hover:shadow-lg motion-safe:hover:scale-[1.03] motion-reduce:transform-none focus-visible:outline focus-visible:outline-2 focus-visible:outline-pink-500 cursor-pointer disabled:opacity-40 overflow-hidden",onClick:function(){if(function(){let e=ep(g);return d(e),0===Object.keys(e).length}()){null==s||s(),null==i||i(!0);try{localStorage.setItem("risa:loveLetterEligible","true")}catch(e){}null==a||a()}},disabled:Object.keys(x).length>0,"aria-disabled":Object.keys(x).length>0,"aria-describedby":b,children:"Selesai"})]})]})}function ef(e){let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)}function eb(){let e=el(e=>e.dailyLogs||[]),{totalTrackedDays:a,trackedLast30:n,longestStreak:l,hasTodayDaily:s,consistencyPercent:i}=(0,r.useMemo)(()=>{if(!Array.isArray(e)||0===e.length)return{totalTrackedDays:0,trackedLast30:0,longestStreak:0,hasTodayDaily:!1,consistencyPercent:0};let t=new Set(e.map(e=>e&&"string"==typeof e.date?e.date:null).filter(Boolean)),a=t.size,n=new Date,r=ef(n),l=ef(new Date(n.getTime()-25056e5)),s=0;for(let e of t)e>=l&&e<=r&&(s+=1);let i=t.has(r),o=Array.from(t).sort(),d=0,u=0,c=null;for(let e of o)c&&e===function(e,t){let[a,n,r]=e.split("-").map(Number),l=new Date(a,n-1,r);return l.setDate(l.getDate()+1),ef(l)}(c,0)?u+=1:u=1,d=Math.max(d,u),c=e;let m=Math.min(100,Math.round(s/30*100));return{totalTrackedDays:a,trackedLast30:s,longestStreak:d,hasTodayDaily:i,consistencyPercent:m}},[e]);return(0,t.jsxs)("article",{className:"rounded-2xl border border-pink-100 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Konsistensi pencatatan"}),s?(0,t.jsx)("span",{className:"inline-flex items-center rounded-full bg-pink-100 px-3 py-1 text-xs font-medium text-pink-700 dark:bg-pink-900/30 dark:text-pink-200","aria-label":"Sudah membuat jurnal hari ini",title:"Sudah membuat jurnal hari ini",children:"Hari iniâœ”ï¸"}):null]}),(0,t.jsxs)("div",{className:"mt-2 flex items-end justify-between",children:[(0,t.jsxs)("p",{className:"text-3xl font-semibold text-slate-800 dark:text-slate-100",children:[i,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Target: catat setiap hari selama ",30," hari"]})]}),(0,t.jsx)("div",{className:"mt-3",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":i,"aria-label":"Kemajuan menuju ".concat(30," hari log bulan ini"),children:(0,t.jsx)("div",{className:"h-1.5 w-full rounded-full bg-slate-100 dark:bg-slate-700",children:(0,t.jsx)("div",{className:"h-full rounded-full bg-pink-500",style:{width:"".concat(i,"%")}})})}),(0,t.jsxs)("dl",{className:"mt-3 grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-slate-500 dark:text-slate-400",children:"Log 30 hari"}),(0,t.jsxs)("dd",{className:"font-semibold text-slate-800 dark:text-slate-100",children:[n," hari"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-slate-500 dark:text-slate-400",children:"Total hari tercatat"}),(0,t.jsx)("dd",{className:"font-semibold text-slate-800 dark:text-slate-100",children:a})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-slate-500 dark:text-slate-400",children:"Streak terpanjang"}),(0,t.jsxs)("dd",{className:"font-semibold text-slate-800 dark:text-slate-100",children:[l," hari"]})]})]})]})}let ek=(0,a.default)(()=>e.A(95434),{loadableGenerated:{modules:[87864]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"flex h-48 w-full items-center justify-center rounded-2xl border border-dashed border-pink-200 bg-white/80 text-sm text-slate-500 dark:border-slate-700 dark:bg-slate-900/40 dark:text-slate-400",children:"Memuat grafik mood..."})}),ey={happy:{label:"Senang",color:"#facc15"},sad:{label:"Sedih",color:"#60a5fa"},angry:{label:"Kesal",color:"#f87171"},anxious:{label:"Cemas",color:"#a78bfa"},normal:{label:"Biasa aja",color:"#94a3b8"}};function ev(){let e=el(e=>e.dailyLogs||[]),{counts:a,legendEntries:n,chartData:l,hasData:s}=(0,r.useMemo)(()=>{let t=Object.create(null);for(let a of e)(null==a?void 0:a.mood)&&ey[a.mood]&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;if(!e)return!1;let a=new Date(e+"T00:00:00");if(Number.isNaN(a.getTime()))return!1;let n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate());return r.setDate(r.getDate()-t),a>=r&&a<=n}(a.date,30)&&(t[a.mood]=(t[a.mood]||0)+1);let a=Object.entries(ey).map(e=>{let[a,n]=e;return{mood:a,label:n.label,color:n.color,count:t[a]||0}}).filter(e=>e.count>0).sort((e,t)=>t.count-e.count),n=a.reduce((e,t)=>(e[t.mood]=t.count,e),{});return{counts:t,legendEntries:a,chartData:n,hasData:a.length>0}},[e]),i=(0,r.useMemo)(()=>{let e={};for(let[t,a]of Object.entries(ey))e[t]=a.color;return e},[]);return(0,t.jsx)("div",{className:"rounded-3xl border border-pink-100 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Mood bulananmu"}),(0,t.jsxs)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Ini sebaran perasaanmu dalam ",30," hari terakhir"]})]}),s?(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(ek,{data:l,size:220,colors:i}),(0,t.jsx)("div",{className:"mt-4 grid w-full grid-cols-2 gap-2",children:n.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-lg bg-slate-50 p-2 dark:bg-slate-800",children:[(0,t.jsx)("span",{className:"h-3 w-3 rounded-full",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.label}),(0,t.jsxs)("span",{className:"ml-auto text-xs text-slate-500",children:[e.count,"x"]})]},e.mood))})]}):(0,t.jsx)("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:(0,t.jsxs)("p",{className:"text-slate-500 dark:text-slate-400",children:["Belum ada catatan mood dalam ",30," hari terakhir."]})})]})})}let ej=[z.MENSTRUATION,z.FOLLICULAR,z.OVULATION,z.LUTEAL],ew={happy:{label:"Senang",emoji:"ðŸ˜Š"},sad:{label:"Sedih",emoji:"ðŸ˜¢"},angry:{label:"Kesal",emoji:"ðŸ˜ "},anxious:{label:"Cemas",emoji:"ðŸ˜°"},normal:{label:"Biasa aja",emoji:"ðŸ˜"}};function eN(){let e=el(e=>e.dailyLogs||[]),a=el(e=>e.cycleSummary),n=(0,r.useMemo)(()=>U(e,a),[e,a]);return(null==n?void 0:n.hasData)?(0,t.jsxs)("div",{className:"rounded-3xl border border-pink-100 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Pola Suasana Hati"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Mood yang paling sering kamu rasakan pada setiap fase siklus."}),(0,t.jsx)("div",{className:"mt-4 grid gap-3",children:ej.map(function(e){var a;let r=null==(a=n.summary)?void 0:a[e],l=(null==r?void 0:r.total)||0,s=ew[((null==r?void 0:r.topMood)||"").toLowerCase()],i=Array.isArray(null==r?void 0:r.moodCounts)?r.moodCounts.slice(1,3):[];return(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-white/60 p-4 shadow-sm transition-colors dark:border-slate-800 dark:bg-slate-900/60",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:Y[e]}),(0,t.jsxs)("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:[l," catatan"]})]}),s?(0,t.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",role:"img","aria-hidden":"true",children:s.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100",children:s.label}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[r.topCount,"x / ",r.topPercentage,"%"]})]})]}):(0,t.jsx)("p",{className:"mt-3 text-sm text-slate-500 dark:text-slate-400",children:"Belum ada mood dominan pada fase ini."}),i.length>0?(0,t.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:i.map(e=>{let a=ew[(e.mood||"").toLowerCase()],n=(null==a?void 0:a.label)||e.mood||"â€”";return(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 text-xs text-slate-600 dark:bg-slate-800/70 dark:text-slate-300",children:[(0,t.jsx)("span",{"aria-hidden":"true",children:null==a?void 0:a.emoji}),(0,t.jsx)("span",{children:n}),(0,t.jsxs)("span",{className:"text-slate-400 dark:text-slate-500",children:[e.count,"x"]})]},e.mood)})}):null]},e)})})]}):(0,t.jsxs)("div",{className:"rounded-3xl border border-pink-100 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Pola Suasana Hati"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:"Catat suasana hatimu secara rutin untuk melihat pola berdasarkan fase siklus."})]})}function eS(){let e=el(e=>e.achievements||[]);return e&&0!==e.length?(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Pencapaian"}),(0,t.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-100 text-yellow-800",children:"Ã°Å¸Ââ€ "}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))})]}):(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Pencapaian"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Catat suasana hatimu secara rutin untuk mendapatkan pencapaian."})]})}var eD=e.i(37902);let eL=["#FF6B9F","#FFD166","#9DDE7A","#6C5CE7","#5AC8FA"],eT=Array.from({length:18},(e,t)=>({id:t,left:7*t%100,delay:t%6*.12,duration:1.1+t%4*.15,color:eL[t%eL.length],rotation:(t%2==0?1:-1)*(12+3*t)}));function eM(e){let{open:a,onClose:n,reducedMotion:l}=e,s=(0,r.useRef)(null),[i,o]=(0,r.useState)(!1),[d,u]=(0,r.useState)(3),c=(0,r.useRef)(i);(0,r.useEffect)(()=>{c.current=i},[i]),(0,r.useEffect)(()=>{if(!a){o(!1),u(5);return}o(!1),u(3);let e=setTimeout(()=>o(!0),3e3),t=setInterval(()=>{u(e=>e<=1?(clearInterval(t),0):e-1)},1e3);return()=>{clearTimeout(e),clearInterval(t)}},[a]),(0,r.useEffect)(()=>{let e;if(!a||!s.current)return;let t=s.current,r=t.querySelector(".love-letter-panel"),i=document.activeElement,o=document.body.style.overflow;document.body.style.overflow="hidden",l||(e=p.gsap.context(()=>{p.gsap.set(t,{autoAlpha:0}),p.gsap.set(r,{autoAlpha:0,y:24,scale:.98}),p.gsap.timeline({defaults:{ease:"power2.out"}}).to(t,{autoAlpha:1,duration:.18}).to(r,{autoAlpha:1,y:0,scale:1,duration:.32},"<0.04")},s));let d=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),u=d[0],m=d[d.length-1],h=e=>{"Tab"===e.key&&u&&m&&(e.shiftKey&&document.activeElement===u?(e.preventDefault(),null==m||m.focus()):e.shiftKey||document.activeElement!==m||(e.preventDefault(),null==u||u.focus())),"Escape"===e.key&&(e.preventDefault(),c.current&&(null==n||n()))};return t.addEventListener("keydown",h),null==u||u.focus(),()=>{t.removeEventListener("keydown",h),e&&e.revert(),document.body.style.overflow=o,i&&i instanceof HTMLElement&&i.focus()}},[a,n,l]);let m=(0,r.useMemo)(()=>eT.map(e=>({left:"".concat(e.left,"%"),animationDelay:"".concat(e.delay,"s"),animationDuration:"".concat(e.duration,"s"),backgroundColor:e.color,transform:"rotate(".concat(e.rotation,"deg)")})),[]);return a?(0,t.jsxs)("div",{ref:s,role:"dialog","aria-modal":"true","aria-labelledby":"love-letter-title","aria-describedby":"love-letter-message",className:"jsx-4ab76464f4c825a7 fixed inset-0 z-50 flex items-center justify-center bg-slate-900/70 p-3 sm:p-4 backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"jsx-4ab76464f4c825a7 love-letter-panel relative w-full max-w-[700px] overflow-hidden rounded-[24px] border border-pink-100 bg-white/95 shadow-2xl max-h-[92svh]",children:[(0,t.jsx)("div",{"aria-hidden":"true",className:"jsx-4ab76464f4c825a7 absolute inset-0 bg-linear-to-br from-pink-100 via-white to-slate-50"}),(0,t.jsxs)("div",{className:"jsx-4ab76464f4c825a7 relative flex h-full flex-col",children:[(0,t.jsx)("header",{className:"jsx-4ab76464f4c825a7 px-5 pb-2 pt-5 sm:px-8 sm:pt-8",children:(0,t.jsx)("h2",{id:"love-letter-title",className:"jsx-4ab76464f4c825a7 text-center text-2xl font-semibold text-slate-900 sm:text-3xl",children:"ðŸ’Œ Kamu Mendapat Surat Cinta ðŸ’Œ"})}),(0,t.jsx)("div",{className:"jsx-4ab76464f4c825a7 flex-1 overflow-auto px-5 py-4 sm:px-8 sm:py-6 overscroll-contain",children:(0,t.jsxs)("div",{className:"jsx-4ab76464f4c825a7 grid items-center gap-6 sm:grid-cols-2",children:[(0,t.jsx)("div",{className:"jsx-4ab76464f4c825a7 space-y-4 text-center text-slate-700 sm:text-left",children:(0,t.jsxs)("p",{id:"love-letter-message",className:"jsx-4ab76464f4c825a7 text-sm leading-relaxed text-slate-600",children:["Hai sayang.. aku tubuhmu ðŸ’–",(0,t.jsx)("br",{className:"jsx-4ab76464f4c825a7"}),(0,t.jsx)("br",{className:"jsx-4ab76464f4c825a7"}),"Setiap bulan, aku membersihkan dan mempersiapkan ruang baru untukmu.",(0,t.jsx)("br",{className:"jsx-4ab76464f4c825a7"}),"Bukan karena ada yang salah, tapi karena aku sehat!",(0,t.jsx)("br",{className:"jsx-4ab76464f4c825a7"}),(0,t.jsx)("br",{className:"jsx-4ab76464f4c825a7"}),"Terimakasih sudah merawatku dengan lembut.",(0,t.jsx)("br",{className:"jsx-4ab76464f4c825a7"}),"Kita tumbuh bersama ya? Cukup dengarkanâ€¦ dan catat."]})}),(0,t.jsx)("div",{className:"jsx-4ab76464f4c825a7 relative mx-auto flex items-center justify-center",children:(0,t.jsx)("img",{src:"/image/suratcinta.png",alt:"Ilustrasi surat cinta",className:"jsx-4ab76464f4c825a7 h-52 w-52 object-contain sm:h-64 sm:w-64"})})]})}),(0,t.jsx)("footer",{className:"jsx-4ab76464f4c825a7 sticky bottom-0 z-[1] bg-gradient-to-t from-white to-white/80 px-5 pb-5 pt-3 sm:px-8",children:(0,t.jsxs)("div",{className:"jsx-4ab76464f4c825a7 flex justify-center",children:[(0,t.jsx)("button",{type:"button",onClick:function(){i&&(null==n||n())},disabled:!i,"aria-disabled":!i,"aria-describedby":"love-letter-countdown-message",className:"jsx-4ab76464f4c825a7 inline-flex items-center justify-center rounded-full bg-pink-500 px-6 py-2 text-sm font-semibold text-white shadow-lg shadow-pink-200/60 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600 disabled:cursor-not-allowed disabled:opacity-60",children:i?"Mulai Mencatat":"Tunggu ".concat(d,"s")}),(0,t.jsx)("span",{id:"love-letter-countdown-message","aria-live":"polite",className:"jsx-4ab76464f4c825a7 sr-only",children:i?"Tombol siap ditekan":"Tombol siap dalam ".concat(d," detik")})]})})]}),(0,t.jsx)("div",{className:"jsx-4ab76464f4c825a7 pointer-events-none absolute inset-0 overflow-hidden",children:m.map((e,a)=>(0,t.jsx)("span",{"data-confetti-piece":!0,style:e,"aria-hidden":"true",className:"jsx-4ab76464f4c825a7 confetti-piece"},eT[a].id))})]}),(0,t.jsx)(eD.default,{id:"4ab76464f4c825a7",children:".confetti-piece.jsx-4ab76464f4c825a7{opacity:0;border-radius:9999px;width:12px;height:18px;animation-name:confettiFall;animation-timing-function:cubic-bezier(.4,0,.2,1);animation-fill-mode:forwards;position:absolute;top:-10%}@keyframes confettiFall{0%{opacity:0;transform:translateY(-20px)rotate(0)}10%{opacity:1}to{opacity:0;transform:translateY(320px)rotate(360deg)}}"})]}):null}function eC(e){let{open:a,onClose:n}=e,l=el(e=>e.addPeriod);el(e=>e.onboardingData);let s=(0,r.useRef)(null),[i,o]=(0,r.useState)({}),[d,u]=(0,r.useState)(!1),[c,m]=(0,r.useState)({start:null,end:null}),[h,g]=(0,r.useState)(5),[x,f]=(0,r.useState)("");(0,r.useEffect)(()=>{if(!a||(o({}),u(!1),f(""),m({start:null,end:null}),window.matchMedia("(prefers-reduced-motion: reduce)").matches))return;let e=p.gsap.context(()=>{p.gsap.fromTo(s.current,{autoAlpha:0,y:12},{autoAlpha:1,y:0,duration:.28,ease:"power2.out"})},s);return()=>null==e?void 0:e.revert()},[a]);let b=(0,r.useMemo)(()=>Array.from({length:10},(e,t)=>t+1),[]);async function k(){if(function(){let e={},t=new Date().toISOString().slice(0,10);return c.start||(e.start="Pilih tanggal mulai ya."),c.start&&c.start>t&&(e.start="Tanggal mulai tidak boleh di masa depan."),c.end||(e.end="Pilih tanggal selesai ya."),c.end&&c.end>t&&(e.end="Tanggal selesai tidak boleh di masa depan."),c.start&&c.end&&c.end<c.start&&(e.end="Tanggal selesai tidak boleh sebelum mulai."),(!Number.isFinite(h)||h<1||h>10)&&(e.pain="Pilih skala nyeri 1â€“10."),o(e),0===Object.keys(e).length}()){u(!0),f("");try{l({start:c.start,end:c.end,painScale:h}),f("Tersimpan! Prediksi & ringkasan sudah diperbarui."),setTimeout(()=>null==n?void 0:n(),350)}catch(e){u(!1),f((null==e?void 0:e.message)||"Gagal menyimpan. Coba lagi ya.")}}}return a?(0,t.jsxs)("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 z-[80] flex items-end sm:items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:()=>!d&&(null==n?void 0:n()),"aria-hidden":"true"}),(0,t.jsxs)("div",{ref:s,className:"relative w-full max-w-lg rounded-3xl border border-pink-100 bg-white p-5 shadow-xl sm:p-6 dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsx)("header",{className:"mb-4 flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-pink-500",children:"Catatan Haid Baru"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-100",children:"Tambahkan Tanggal Haid"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Pilih rentang tanggal haid dan skala nyeri (1â€“10)."})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(em,{value:c,onChange:m,max:new Date().toISOString().slice(0,10),ariaInvalid:!!i.start||!!i.end,ariaDescribedBy:void 0}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[(0,t.jsxs)("span",{children:["Mulai: ",c.start?E(c.start):"Belum dipilih"]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:["Selesai: ",c.end?E(c.end):"Belum dipilih"]})]}),(0,t.jsxs)("div",{className:"space-y-1 text-xs text-red-500","aria-live":"polite",children:[i.start?(0,t.jsx)("p",{role:"alert",children:i.start}):null,i.end?(0,t.jsx)("p",{role:"alert",children:i.end}):null]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Skala nyeri saat haid"}),(0,t.jsx)("div",{role:"radiogroup","aria-label":"Skala nyeri 1 sampai 10",className:"mt-2 flex flex-wrap gap-2",children:b.map(e=>(0,t.jsx)("button",{type:"button",role:"radio","aria-checked":h===e,onClick:()=>g(e),className:"h-9 w-9 rounded-full border text-sm font-semibold transition-transform focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-500 hover:scale-105 ".concat(h===e?"border-pink-500 bg-pink-500 text-white":"border-slate-200 bg-white text-slate-600"),children:e},e))}),i.pain?(0,t.jsx)("p",{className:"mt-1 text-xs text-red-500",children:i.pain}):null]}),x?(0,t.jsx)("div",{className:"rounded-xl bg-pink-50 px-4 py-3 text-xs text-pink-700 dark:bg-pink-900/30 dark:text-pink-200",children:x}):null]}),(0,t.jsxs)("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>!d&&(null==n?void 0:n()),className:"rounded-full border border-slate-200 px-5 py-2 text-sm font-medium text-slate-600 hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",disabled:d,children:"Batal"}),(0,t.jsx)("button",{type:"button",onClick:k,className:"relative rounded-full bg-pink-500 px-6 py-2 text-sm font-semibold text-white shadow-sm transition-transform duration-200 ease-out hover:shadow-lg focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-500 disabled:opacity-40",disabled:d,children:d?"Menyimpan...":"Simpan"})]})]})]}):null}let eA=(0,l.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),eE=(0,l.default)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),eP=(0,l.default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),e_=(0,l.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),eI=[{id:1,label:"Ringan",color:"bg-pink-100 text-pink-600",emoji:"ðŸ’§"},{id:2,label:"Sedang",color:"bg-pink-200 text-pink-700",emoji:"ðŸ’§ðŸ’§"},{id:3,label:"Banyak",color:"bg-pink-300 text-pink-800",emoji:"ðŸ’§ðŸ’§ðŸ’§"},{id:4,label:"Sangat Banyak",color:"bg-red-200 text-red-700",emoji:"ðŸ’§ðŸ’§ðŸ’§ðŸ’§"}],eF=[{id:"cramps",label:"Kram perut",emoji:"ðŸ˜£"},{id:"headache",label:"Sakit kepala",emoji:"ðŸ¤•"},{id:"bloating",label:"Perut kembung",emoji:"ðŸ˜®â€ðŸ’¨"},{id:"backache",label:"Sakit punggung",emoji:"ðŸ˜°"},{id:"fatigue",label:"Lelah",emoji:"ðŸ˜´"},{id:"acne",label:"Jerawatan",emoji:"ðŸ˜”"}],eO=[{id:"happy",label:"Senang",emoji:"ðŸ˜Š",color:"bg-yellow-100 text-yellow-700"},{id:"sad",label:"Sedih",emoji:"ðŸ˜¢",color:"bg-blue-100 text-blue-700"},{id:"angry",label:"Kesal",emoji:"ðŸ˜ ",color:"bg-red-100 text-red-700"},{id:"anxious",label:"Cemas",emoji:"ðŸ˜°",color:"bg-purple-100 text-purple-700"},{id:"normal",label:"Biasa aja",emoji:"ðŸ˜",color:"bg-gray-100 text-gray-700"}];function eR(){let{addDailyLog:e}=el(),[a,n]=(0,r.useState)(new Date().toISOString().slice(0,10)),[l,s]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[d,u]=(0,r.useState)(null),[c,m]=(0,r.useState)(""),[h,g]=(0,r.useState)(!1),p=(0,r.useCallback)(e=>{o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),x=(0,r.useCallback)(async()=>{if(d){g(!0);try{let t={date:a,mood:d,flow:l,symptoms:i,story:c.trim(),timestamp:new Date().toISOString()};await e(t),s(null),o([]),u(null),m(""),setTimeout(()=>g(!1),500)}catch(e){console.error("Failed to save daily log:",e),g(!1)}}},[a,d,l,i,c,e]),f=(0,r.useMemo)(()=>null!==d,[d]);return(0,t.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm border border-pink-100 p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-slate-800 flex items-center justify-center gap-2",children:[(0,t.jsx)(e_,{className:"w-5 h-5 text-pink-500"}),"Jurnal harianku"]}),(0,t.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Catat perasaan dan kondisimu hari ini"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Tanggal"}),(0,t.jsx)("input",{type:"date",value:a,onChange:e=>n(e.target.value),max:new Date().toISOString().slice(0,10),className:"w-full p-3 border border-pink-200 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[(0,t.jsx)(eA,{className:"w-4 h-4 text-pink-500"}),"Mood hari ini *"]}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:eO.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>u(e.id),className:"p-3 rounded-xl border-2 transition-all text-center ".concat(d===e.id?"".concat(e.color," border-current"):"border-gray-200 hover:border-pink-300"),children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:e.emoji}),(0,t.jsx)("div",{className:"text-xs font-medium",children:e.label})]},e.id))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[(0,t.jsx)(eE,{className:"w-4 h-4 text-pink-500"}),"Banyaknya haid (opsional)"]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:eI.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>s(e.id),className:"p-3 rounded-xl border-2 transition-all text-center ".concat(l===e.id?"".concat(e.color," border-current"):"border-gray-200 hover:border-pink-300"),children:[(0,t.jsx)("div",{className:"text-lg mb-1",children:e.emoji}),(0,t.jsx)("div",{className:"text-xs font-medium",children:e.label})]},e.id))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Gejala yang dirasakan (pilih yang sesuai)"}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:eF.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>p(e.id),className:"p-3 rounded-xl border-2 transition-all text-center ".concat(i.includes(e.id)?"bg-pink-100 text-pink-700 border-pink-300":"border-gray-200 hover:border-pink-300"),children:[(0,t.jsx)("div",{className:"text-lg mb-1",children:e.emoji}),(0,t.jsx)("div",{className:"text-xs font-medium",children:e.label})]},e.id))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[(0,t.jsx)(eP,{className:"w-4 h-4 text-pink-500"}),"Cerita hari ini (opsional)"]}),(0,t.jsx)("textarea",{value:c,onChange:e=>m(e.target.value),placeholder:"Tulis cerita atau catatan khusus hari ini...",rows:3,maxLength:500,className:"w-full p-3 border border-pink-200 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent resize-none"}),(0,t.jsxs)("div",{className:"text-xs text-slate-500 text-right",children:[c.length,"/500 karakter"]})]}),(0,t.jsx)("button",{type:"button",onClick:x,disabled:!f||h,className:"w-full py-3 rounded-xl font-semibold transition-all ".concat(f&&!h?"bg-pink-500 text-white hover:bg-pink-600 hover:shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:h?"Menyimpan...":"Simpan Jurnal Hari Ini"})]})}let eB={1:{label:"Ringan",emoji:"ðŸ’§"},2:{label:"Sedang",emoji:"ðŸ’§ðŸ’§"},3:{label:"Banyak",emoji:"ðŸ’§ðŸ’§ðŸ’§"},4:{label:"Sangat Banyak",emoji:"ðŸ’§ðŸ’§ðŸ’§ðŸ’§"}},ez={happy:{label:"Senang",emoji:"ðŸ˜Š"},sad:{label:"Sedih",emoji:"ðŸ˜¢"},angry:{label:"Kesal",emoji:"ðŸ˜ "},anxious:{label:"Cemas",emoji:"ðŸ˜°"},normal:{label:"Biasa aja",emoji:"ðŸ˜"}},eK={cramps:{label:"Kram perut",emoji:"ðŸ˜£"},headache:{label:"Sakit kepala",emoji:"ðŸ¤•"},bloating:{label:"Perut kembung",emoji:"ðŸ˜®ðŸ’¨"},backache:{label:"Sakit punggung",emoji:"ðŸ˜°"},fatigue:{label:"Lelah",emoji:"ðŸ˜´"},acne:{label:"Jerawatan",emoji:"ðŸ˜”"}};function eY(){let e=el(e=>e.dailyLogs||[]),a=(0,r.useMemo)(()=>e.slice(0,7),[e]);return a.length?(0,t.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm border border-pink-100 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(e_,{className:"w-5 h-5 text-pink-500"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800",children:"Riwayat jurnal harianku"})]}),(0,t.jsx)("div",{className:"space-y-4",children:a.map((e,a)=>(0,t.jsxs)("div",{className:"border border-pink-100 rounded-2xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"font-medium text-slate-800",children:new Date(e.date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.mood&&ez[e.mood]&&(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-pink-50 px-3 py-1 rounded-full",children:[(0,t.jsx)("span",{children:ez[e.mood].emoji}),(0,t.jsx)("span",{className:"text-sm font-medium text-pink-700",children:ez[e.mood].label})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.flow&&eB[e.flow]&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eE,{className:"w-4 h-4 text-pink-500"}),(0,t.jsxs)("span",{className:"text-slate-600",children:[eB[e.flow].emoji," ",eB[e.flow].label]})]}),e.symptoms&&e.symptoms.length>0&&(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(eA,{className:"w-4 h-4 text-pink-500 mt-0.5"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.symptoms.map(e=>{let a=eK[e];return a?(0,t.jsxs)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:[a.emoji," ",a.label]},e):null})})]})]}),e.story&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-pink-100",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(eP,{className:"w-4 h-4 text-pink-500 mt-0.5"}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 italic",children:['"',e.story,'"']})]})})]},"".concat(e.date,"-").concat(a)))}),e.length>7&&(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:["Menampilkan 7 jurnal terakhir dari ",e.length," total jurnal"]})})]}):(0,t.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm border border-pink-100 p-6 text-center",children:[(0,t.jsx)(e_,{className:"w-12 h-12 text-pink-300 mx-auto mb-3"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Belum Ada Jurnal"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Mulai catat jurnal harianmu untuk melihat pola dan tren"})]})}let eH="risa-ripple-container";function eU(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return!(e instanceof Date)||Number.isNaN(e.getTime())?null:e.toISOString().slice(0,10)}var eq=e.i(57688);let eV=(0,a.default)(()=>e.A(90066),{loadableGenerated:{modules:[82715]},ssr:!1,loading:()=>(0,t.jsx)(eG,{label:"grafik tren siklus"})}),eJ=(0,a.default)(()=>e.A(96744),{loadableGenerated:{modules:[72592]},ssr:!1,loading:()=>(0,t.jsx)(eW,{})});function eG(e){let{label:a}=e;return(0,t.jsxs)("div",{className:"flex h-48 w-full items-center justify-center rounded-3xl border border-dashed border-pink-200 bg-white/70 text-sm text-slate-500 dark:border-slate-700 dark:bg-slate-900/40 dark:text-slate-400",children:["Memuat ",a,"..."]})}function eW(){return(0,t.jsx)("button",{type:"button",disabled:!0,className:"relative inline-flex items-center justify-center rounded-full bg-pink-400 px-6 py-2 text-sm font-semibold text-white opacity-70 shadow-sm",children:"Menyiapkan export..."})}eG.propTypes={label:n.default.string.isRequired};let eX={happy:{label:"Senang",color:"#facc15"},sad:{label:"Sedih",color:"#60a5fa"},angry:{label:"Kesal",color:"#f87171"},anxious:{label:"Cemas",color:"#a78bfa"},normal:{label:"Biasa aja",color:"#94a3b8"}},e$={menstruation:{imageAlt:"Ilustrasi remaja minum teh hangat untuk fase menstruasi",imageSrc:"/image/phase-menstruation.png",palette:{primary:"#fbcfe8",secondary:"#f9a8d4",accent:"#fde4f2",highlight:"#f8b4d9",icon:"#db2777"},gradient:"from-rose-100 via-white to-rose-50",gradientDark:"dark:from-rose-950 dark:via-slate-950 dark:to-rose-900",badge:"bg-rose-100 text-rose-600",badgeDark:"dark:bg-rose-900/40 dark:text-rose-200 dark:border dark:border-rose-800/50",icon:s,name:"Menstruasi",description:"Tubuh kamu sedang bersih-bersih nih. Lapisan rahim yang sebelumnya menebal lagi dibersihkan lewat darah haid. Hormon estrogen masih rendah, jadi kamu mungkin akan merasa lelah ataupun moody.",tips:["Istirahat cukup dan konsumsi makanan bergizi. Tubuhmu sedang bekerja keras!"]},follicular:{imageAlt:"Ilustrasi remaja membawa bunga",imageSrc:"/image/phase-follicular.png",palette:{primary:"#bbf7d0",secondary:"#86efac",accent:"#dcfce7",highlight:"#34d399",icon:"#047857"},gradient:"from-green-100 via-white to-emerald-50",gradientDark:"dark:from-emerald-950 dark:via-slate-950 dark:to-rose-900",badge:"bg-emerald-100 text-emerald-600",badgeDark:"dark:bg-emerald-900/40 dark:text-emerald-200 dark:border dark:border-emerald-800/50",icon:d,name:"Folikuler",description:"Hormon estrogen mulai naik lagi. Tubuhmu sedang menyiapkan sel telur baru, dan kamu mungkin merasa lebih semangat, fokus, dan ceria. Kerasa nggak kalo kamu udah lebih berenergi?",tips:["Gunakan energimu buat hal-hal produktif yuk! Kamu bisa olahraga ringan, baca artikel atau eksplor hal baru."]},ovulation:{imageAlt:"Ilustrasi remaja dengan bunga bermekaran",imageSrc:"/image/phase-ovulation.png",palette:{primary:"#fef3c7",secondary:"#fde68a",accent:"#fffbeb",highlight:"#facc15",icon:"#b45309"},gradient:"from-amber-100 via-white to-yellow-50",gradientDark:"dark:from-amber-950 dark:via-slate-950 dark:to-rose-900",badge:"bg-amber-100 text-amber-600",badgeDark:"dark:bg-amber-900/40 dark:text-amber-200 dark:border dark:border-amber-800/60",icon:o.Sparkles,name:"Ovulasi",description:"Telur dilepaskan dari ovarium. Kamu mungkin merasa lebih percaya diri dan cantik hari ini. Namun, beberapa orang juga merasakan sedikit nyeri di perut bagian bawah pada fase ini.",tips:["Inilah puncak kesuburanmu! Tetap jaga kesehatan ya, jangan lupa jaga asupan air putih dan istirahat cukup."],psaMessage:"Ovulasi = Masa Subur. Perempuan memiliki peluang kehamilan lebih tinggi di masa ini."},luteal:{imageAlt:"Ilustrasi remaja dengan bulan sabit",imageSrc:"/image/phase-luteal.png",palette:{primary:"#c7d2fe",secondary:"#a5b4fc",accent:"#e0e7ff",highlight:"#6366f1",icon:"#4338ca"},gradient:"from-indigo-100 via-white to-slate-50",gradientDark:"dark:from-indigo-950 dark:via-slate-950 dark:to-rose-900",badge:"bg-indigo-100 text-indigo-600",badgeDark:"dark:bg-indigo-900/40 dark:text-indigo-200 dark:border dark:border-indigo-800/50",icon:i,name:"Luteal",description:"Hormon progesteron lagi naik nih untuk mempersiapkan rahim kalau terjadi pembuahan. Kalau tidak, tubuhmu sedang bersiap haid lagi. Di fase ini, wajar kalau kamu merasa cepat lelah, lapar, atau sensitif.",tips:["Jangan lupa luangkan waktu buat diri sendiri ya. Boleh banget kalo kamu mau jurnaling perasaan kamu disini."]},unknown:{imageAlt:"Ilustrasi remaja muda",imageSrc:"/image/phase-unknown.png",palette:{primary:"#fef2f2",secondary:"#fecaca",accent:"#fee2e2",highlight:"#f472b6",icon:"#be185d"},gradient:"from-rose-50 via-white to-rose-100",gradientDark:"dark:from-rose-900 dark:via-rose-950 dark:to-rose-900",badge:"bg-rose-100 text-rose-700 border border-rose-200",badgeDark:"dark:bg-rose-800/70 dark:text-rose-200 dark:border dark:border-rose-700/60",icon:o.Sparkles,name:"jurnal mood",description:"Data siklus lengkap bantu kami menyesuaikan tips khusus untukmu.",tips:[]}},eQ={loading:{title:"Menyiapkan ruangmu",message:"Kami sedang memuat data onboarding supaya pengalamanmu tetap personal dan aman di perangkat ini.",showPulse:!0,imageSrc:"/image/placeholder-loading.png",imageAlt:"Ilustrasi pengisian data sedang dimuat"},gate:{title:"Yuk mulai kenalan",message:"Pilih sudah atau belum haid untuk menentukan langkah berikutnya.",showPulse:!1,imageSrc:"/image/placeholder-gate.png",imageAlt:"Ilustrasi pilihan sudah atau belum haid"},guide:{title:"Mengenal Menstruasi Pertamamu",message:"Baca deh! kamu udah tau semua info haid di bawah ini belum?",showPulse:!1,imageSrc:"/image/placeholder-guide.png",imageAlt:"Ilustrasi panduan pertama haid"},form:{title:"Isi data siklusmu",message:"Catat tanggal haid, panjang siklus, dan gejala haid kamu untuk mendapatkan laporan kesehatan reproduksi.",showPulse:!1,imageSrc:"/image/placeholder-form.png",imageAlt:"Ilustrasi formulir siklus"}};function eZ(e){let{state:a}=e,n=eQ[a]||eQ.loading,r=n.imageSrc||"/image/placeholder-form.png",l=n.imageAlt||n.title;return(0,t.jsx)("output",{className:"block rounded-[32px] border border-pink-100/70 bg-white/85 p-8 text-center shadow-sm backdrop-blur-sm dark:border-slate-800/60 dark:bg-slate-900/70","aria-live":"polite","aria-busy":"loading"===a,children:(0,t.jsxs)("div",{className:"mx-auto flex max-w-md flex-col items-center gap-6",children:[(0,t.jsxs)("div",{className:"relative h-28 w-28",children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-full ".concat(n.showPulse?"bg-pink-200/70 motion-safe:animate-pulse dark:bg-pink-900/40":"bg-pink-100/60 dark:bg-pink-900/20"),"aria-hidden":"true"}),(0,t.jsx)(eq.default,{src:r,alt:l,width:100,height:100,className:"relative z-10 h-full w-full object-contain"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:n.title}),(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:n.message})]}),n.showPulse?(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-slate-500 dark:text-slate-400",children:[(0,t.jsxs)("span",{className:"relative flex h-3 w-3",children:[(0,t.jsx)("span",{className:"absolute inline-flex h-full w-full rounded-full bg-pink-400 opacity-75 motion-safe:animate-ping"}),(0,t.jsx)("span",{className:"relative inline-flex h-3 w-3 rounded-full bg-pink-500"})]}),(0,t.jsx)("span",{children:"Jangan tutup halaman ya, ini hanya sebentar."})]}):null]})})}function e0(e,t){let a=Number.parseInt(e,10);return Number.isFinite(a)&&a>0?a:t}function e1(){let e=(0,r.useRef)([]),a=(0,r.useRef)(null),[n,l]=(0,r.useState)("loading"),[s,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),u=(0,r.useRef)(!1),[f,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[N,S]=(0,r.useState)(!1),[D,L]=(0,r.useState)(null),[T,P]=(0,r.useState)("dashboard"),[_,I]=(0,r.useState)(!1),F=el(e=>e.onboardingCompleted),O=el(e=>e.onboardingData),R=el(e=>e.moodLogs||[]),B=el(e=>e.dailyLogs||[]),z=el(e=>e.cycleSummary),K=el(e=>{var t;return null!=(t=e.achievements)?t:[]});el(e=>e.setOnboardingCompleted),el(e=>e.resetOnboardingData),(0,r.useEffect)(()=>{try{var e,t;null==(e=(t=el.getState()).hydrate)||e.call(t)}catch(e){}d(!0);try{v("true"===localStorage.getItem("risa:loveLetterShownOnce")),w("true"===localStorage.getItem("risa:loveLetterEligible"))}catch(e){}},[]),(0,r.useEffect)(()=>{let e=()=>{var e,t,a,n;document.hidden?(p.gsap.globalTimeline.pause(),null==(t=p.gsap.ticker)||null==(e=t.sleep)||e.call(t)):(p.gsap.globalTimeline.resume(),null==(n=p.gsap.ticker)||null==(a=n.wake)||a.call(n))};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),(0,r.useEffect)(()=>{let e=window.matchMedia("(prefers-reduced-motion: reduce)"),t=()=>i(e.matches);return t(),e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),(0,r.useEffect)(()=>{o&&!u.current&&(u.current=!0,l(F?"dashboard":"gate"),F&&j&&!y&&b(!0))},[o,F,j,y]),(0,r.useEffect)(()=>{o&&F&&"dashboard"!==n&&l("dashboard")},[o,F,n]),(0,r.useEffect)(()=>{F||P("dashboard")},[F]),(0,r.useEffect)(()=>{let t=()=>{e.current.forEach(e=>e&&e()),e.current=[]};return t(),s||(e.current=Array.from(document.querySelectorAll('[data-ripple="true"]')).map(e=>(function(e){let{disabled:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return()=>{};if(e.classList.add(eH),t)return()=>{e.classList.remove(eH)};let a=e.ownerDocument||("undefined"!=typeof document?document:null);if(!a||"function"!=typeof e.addEventListener)return()=>{e.classList.remove(eH)};let n=t=>{if("number"==typeof t.button&&0!==t.button||"mouse"!==t.pointerType&&"pen"!==t.pointerType&&"touch"!==t.pointerType&&void 0!==t.pointerType&&1)return;let n="function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():null;if(!n)return;let r=function(e){let t=e.createElement("span");return t.className="risa-ripple",t}(a),l=2*Math.max(n.width,n.height),s=void 0!==t.clientX?t.clientX-n.left:n.width/2,i=void 0!==t.clientY?t.clientY-n.top:n.height/2;r.style.width="".concat(l,"px"),r.style.height="".concat(l,"px"),r.style.left="".concat(s,"px"),r.style.top="".concat(i,"px"),"function"==typeof e.appendChild&&e.appendChild(r);let o=null,d=()=>{r.removeEventListener("animationend",d),r.removeEventListener("animationcancel",d),o&&(clearTimeout(o),o=null),"function"==typeof r.remove?r.remove():r.parentNode&&"function"==typeof r.parentNode.removeChild&&r.parentNode.removeChild(r)};r.addEventListener("animationend",d),r.addEventListener("animationcancel",d),o=setTimeout(d,600)};return e.addEventListener("pointerdown",n),()=>{e.removeEventListener("pointerdown",n),e.classList.remove(eH)}})(e))),t},[s,n,f,N,o]),(0,r.useEffect)(()=>{if(!o||"dashboard"!==n){N&&S(!1);return}let e=()=>{let e=new Date;if(!function(){let{now:e=new Date,moodLogs:t=[],nudgesEnabled:a=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a||!(e instanceof Date)||Number.isNaN(e.getTime())||20>e.getHours())return!1;let n=eU(e);return!!n&&!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return!!t&&!!Array.isArray(e)&&e.some(e=>e&&e.date===t)}(t,n)}({now:e,moodLogs:R,nudgesEnabled:!0}))return S(!1);let t=eU(e);D!==t&&(S(!0),L(t))};e();let t=window.setInterval(e,6e4);return()=>window.clearInterval(t)},[o,n,R,D,N]);let Y=o&&"loading"!==n?"dashboard"!==n?n:null:"loading",H=!!Y,U=(0,r.useMemo)(()=>(function(e){let t=e.reduce((e,t)=>{let a="string"==typeof t.mood?t.mood.toLowerCase():null;return a&&(e[a]=(e[a]||0)+1),e},{}),a="-",n=0;return Object.entries(t).forEach(e=>{let[t,r]=e;r>n&&(n=r,a=t)}),{dominantMood:a,total:e.length}})(B),[B]),q=(0,r.useMemo)(()=>Object.entries(B.reduce((e,t)=>{let a="string"==typeof t.mood?t.mood.toLowerCase():null;return a&&(e[a]=(e[a]||0)+1),e},{})).map(e=>{let[t,a]=e,n=eX[t]||{label:t,color:"#94a3b8"};return{mood:t,label:n.label,color:n.color,count:a}}).sort((e,t)=>t.count-e.count).slice(0,5),[B]),V=(0,r.useMemo)(()=>{let e=Array.isArray(z.cycleHistory)?z.cycleHistory:[];if(!e.length)return[{label:"Saat ini",value:z.averageCycleLength}];let t=new Intl.DateTimeFormat("id-ID",{month:"short"}),a=e.map(e=>{let a=e.end||e.start,n=a?new Date(a):null;return!n||Number.isNaN(n.getTime())?null:{label:"".concat(t.format(n)," ").concat(String(n.getFullYear()).slice(-2)),value:e.length}}).filter(Boolean);return a.length?a.slice(-6):[{label:"Saat ini",value:z.averageCycleLength}]},[z]),J=(0,r.useMemo)(()=>(null==O?void 0:O.lastPeriodStart)?function(){let{lastPeriodStart:e,cyclesToProject:t=3,cycleLength:a=28}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=M(e),r=C(a,28);return n?Array.from({length:t},(e,t)=>A(new Date(n.getTime()+(t+1)*r*864e5))):[]}({lastPeriodStart:O.lastPeriodStart,cycleLength:O.cycleLength}):[],[null==O?void 0:O.lastPeriodStart,null==O?void 0:O.cycleLength]),G=(0,r.useMemo)(()=>{let e=!!O.lastPeriodStart,t=e0(z.averageCycleLength,28),a=e0(z.averagePeriodLength,5),n=e?function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28,n=M(t),r=M(e)||M(new Date),l=C(a,28);if(!n||!r||!l)return null;let s=Math.floor((r.getTime()-n.getTime())/864e5);return Number.isFinite(s)?(s%l+l)%l+1:null}(new Date,O.lastPeriodStart,t):null,r=n?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28,n=C(a,28),r=Math.min(n,Math.max(1,C(t,5)));if(!e)return"unknown";let l=(Math.round(e)-1+n)%n+1;if(l<=r)return"menstruation";let s=Math.min(n,Math.max(r+1,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:28;return Math.max(1,C(e,28)-14)}(n))),i=Math.min(n,s+1);return l>=s&&l<=i?"ovulation":l<s?"follicular":"luteal"}(n,a,t):"unknown";return{hasData:e,day:n,phaseKey:r,cycleLength:t,periodLength:a}},[O.lastPeriodStart,z]);return(0,t.jsxs)("main",{id:"main-content",tabIndex:-1,role:"main",className:"container mx-auto max-w-4xl space-y-8 px-4 py-10 dark:text-slate-100",children:[(0,t.jsx)(eM,{open:f,onClose:function(){try{localStorage.setItem("risa:loveLetterShownOnce","true"),localStorage.removeItem("risa:loveLetterEligible")}catch(e){}v(!0),b(!1),l("dashboard")},reducedMotion:s}),H?(0,t.jsx)(eZ,{state:Y}):null,o?(0,t.jsx)(x,{open:"gate"===n,onBelum:()=>l("guide"),onSudah:()=>l("form"),reducedMotion:s}):null,"guide"===n?(0,t.jsx)(k,{onComplete:()=>l("dashboard")}):null,"form"===n?(0,t.jsx)(ex,{onComplete:()=>l("dashboard")}):null,"dashboard"===n?function(){let e=Array.isArray(J)&&J.length>0,n=Array.isArray(K)&&K.length>0,r=!!(null==O?void 0:O.lastPeriodStart);return(0,t.jsxs)("div",{className:"space-y-8",children:[N?(0,t.jsx)("output",{"aria-live":"polite",className:"flex flex-col gap-4 rounded-3xl border border-amber-200 bg-amber-50 p-6 text-amber-900 shadow-sm dark:border-amber-500/40 dark:bg-amber-900/20 dark:text-amber-100",children:(0,t.jsx)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h3",{className:"text-base font-semibold",children:"Mau catat mood hari ini?"}),(0,t.jsx)("p",{className:"text-sm text-amber-800/80 dark:text-amber-100/80",children:"Kamu belum mencatat moodmu hari ini. Apa yang kamu rasakan?"})]})})}):null,function(){var e,a,n;let r=e$[G.phaseKey]||e$.unknown,s="unknown"===G.phaseKey,i=Array.isArray(r.tips)?r.tips:[],o=r.name,d=i.length>0,u=s?"Belum mulai haid? Gapapa!":"Hari ke-".concat(G.day," siklusmu"),c=s?"":"Kamu sedang di fase ".concat(o),m=s?"Kamu bisa mulai dari catat mood harianmu dulu.\nNanti kalau kamu udah haid, klik catat dan mulai jurnal siklus bulananmu!\nSampai saat itu, kamu tetap bisa jurnal mood harianmu kapan saja disini ðŸ’•":null!=(e=r.description)?e:"Data siklus lengkap bantu kami menyesuaikan tips khusus untukmu.",h=r.icon,g=(null==O?void 0:O.goals)||[],p=Array.isArray(g)&&g.includes("fertility"),x=r.psaMessage,f=!!(x&&"ovulation"===G.phaseKey);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("section",{className:"overflow-hidden rounded-[32px] border border-white/40 bg-gradient-to-r ".concat(r.gradient," ").concat(null!=(a=r.gradientDark)?a:""," p-6 shadow-sm sm:p-8 dark:border-white/10"),children:(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-[1.15fr_auto] md:items-center",children:[(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full px-4 py-1 text-xs font-semibold uppercase tracking-wide ".concat(r.badge," ").concat(null!=(n=r.badgeDark)?n:""),children:[(0,t.jsx)(h,{className:"h-4 w-4","aria-hidden":"true"}),(0,t.jsx)("span",{className:"text-slate-900 dark:text-slate-100",children:s?"jurnal mood":o})]}),(0,t.jsxs)("div",{className:"space-y-2 text-left",children:[(0,t.jsx)("h1",{className:"text-3xl font-semibold text-slate-900 dark:text-slate-100 sm:text-[34px]",children:u}),c?(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:c}):null]}),(0,t.jsx)("p",{className:"whitespace-pre-line text-sm text-slate-600 dark:text-slate-300",children:m}),s?null:(0,t.jsxs)("dl",{className:"grid grid-cols-2 gap-4 text-left sm:max-w-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Panjang siklus"}),(0,t.jsxs)("dd",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:[G.cycleLength," hari"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Lama menstruasi"}),(0,t.jsxs)("dd",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:[G.periodLength," hari"]})]})]}),s?(0,t.jsx)("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-pink-300 bg-white px-5 py-2 text-sm font-semibold text-gray-800 shadow-sm focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-400",onClick:()=>l("form"),children:"Catat Siklusku ðŸ©¸"}):null,F&&(G.day||(null==O?void 0:O.lastPeriodStart))?(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"button","data-ripple":"true",className:"inline-flex items-center gap-2 rounded-full border border-pink-200 bg-white px-4 py-2 text-xs font-semibold text-pink-600 shadow-sm hover:bg-pink-50 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600",onClick:()=>I(!0),children:"Tambahkan Tanggal Haid"})}):null]}),(0,t.jsxs)("div",{className:"relative hidden h-64 w-64 md:block",children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-full bg-white/70 blur-3xl dark:bg-white/10","aria-hidden":"true"}),(0,t.jsx)("img",{src:r.imageSrc,alt:r.imageAlt,className:"relative z-10 h-full w-full object-contain"})]})]})}),(0,t.jsx)("section",{className:"rounded-[28px] border border-pink-100 bg-white p-6 shadow-sm sm:p-8 dark:border-slate-700/60 dark:bg-slate-900",children:(0,t.jsxs)("div",{className:"space-y-4 text-left",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Tips spesial untukmu:"}),d?(0,t.jsx)("ul",{className:"space-y-3 text-sm text-slate-600 dark:text-slate-200",children:i.map(e=>(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"mt-1 inline-flex h-2.5 w-2.5 shrink-0 rounded-full bg-pink-400 dark:bg-pink-300"}),(0,t.jsx)("span",{children:e})]},e))}):(0,t.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Catat mood kamu disini setiap hari, seperti sebuah jurnal khusus untuk suasana hatimu."}),f?(0,t.jsx)("div",{className:"mt-4 rounded-2xl border px-4 py-3 text-sm font-medium ".concat(p?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800/60":"bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-800/60 dark:text-slate-200 dark:border-slate-700/60"),children:x}):null]})})]})}(),(0,t.jsxs)(c,{value:r?T:"dashboard",onValueChange:e=>{(r||"report"!==e)&&P(e)},children:[(0,t.jsxs)(m,{children:[(0,t.jsx)(h,{value:"dashboard",children:"Dashboard"}),r?(0,t.jsx)(h,{value:"report",children:"Laporan"}):null]}),(0,t.jsx)(g,{value:"dashboard",children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("section",{className:"mb-6 grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,t.jsx)(eb,{}),e?(0,t.jsxs)("section",{className:"rounded-3xl border border-pink-100 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Perkiraan haid berikutnya"}),(0,t.jsx)("ul",{className:"mt-3 space-y-2 text-sm text-slate-600",children:J.map(e=>{let a=E(e)||e;return(0,t.jsx)("li",{className:"flex items-center justify-between rounded-2xl bg-pink-50 px-4 py-3",children:(0,t.jsx)("span",{className:"items-center font-semibold text-pink-600",children:a})},e)})})]}):(0,t.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Perkiraan haid berikutnya"}),(0,t.jsx)("p",{className:"mt-3 text-sm text-slate-500 dark:text-slate-400",children:"Kami akan menampilkan perkiraan tanggal haid setelah kamu menambahkan catatan haid kamu. Saat ini kamu bisa mulai dari catat mood harianmu dulu ya. ðŸ’•"})]})]}),(0,t.jsx)("div",{ref:a,children:(0,t.jsx)(eR,{})}),(0,t.jsx)(eY,{}),(0,t.jsx)("section",{className:"grid grid-cols-1",children:(0,t.jsx)(ev,{})}),n?(0,t.jsx)("section",{className:"mb-6",children:(0,t.jsx)(eS,{})}):null,(0,t.jsxs)("section",{id:"recommendations",className:"rounded-[28px] border border-pink-100 bg-white p-6 shadow-sm sm:p-8 dark:border-slate-700/60 dark:bg-slate-900",children:[(0,t.jsx)("h3",{className:"mb-8 text-center text-xl font-bold text-gray-800 dark:text-slate-100",children:"Rekomendasi bacaan untuk kamu"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 p-2 md:grid-cols-3 md:gap-4 lg:gap-6",children:[(0,t.jsxs)("a",{href:"/article-hiv.html",className:"group block cursor-pointer rounded-2xl border border-slate-200 bg-white p-3 shadow-sm transition-all duration-300 hover:-translate-y-2 hover:text-pink-600 dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsx)("div",{className:"mb-2 h-48 w-full rounded-xl bg-cover bg-top",style:{backgroundImage:"url(/image/article-image-1.png)"},"aria-hidden":"true"}),(0,t.jsx)("span",{className:"font-medium",children:"HIV? Gak Usah Panik, Yuk Kenalan Dulu!"}),(0,t.jsx)("p",{className:"text-sm leading-relaxed text-gray-600 dark:text-slate-400",children:"Kenalan sama HIV biar gak salah paham dan tetap bisa jaga diri."})]}),(0,t.jsxs)("a",{href:"/article-seks.html",className:"group block cursor-pointer rounded-2xl border border-slate-200 bg-white p-3 shadow-sm transition-all duration-300 hover:-translate-y-2 hover:text-pink-600 dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsx)("div",{className:"mb-2 h-48 w-full rounded-xl bg-cover bg-top",style:{backgroundImage:"url(/image/article-image-2.png)"},"aria-hidden":"true"}),(0,t.jsx)("span",{className:"font-medium",children:"Seks Itu Apa Sih? Biar Gak Salah Paham dan Bisa Jaga Diri!"}),(0,t.jsx)("p",{className:"text-sm leading-relaxed text-gray-600 dark:text-slate-400",children:"Belajar soal seks biar gak salah langkah dan bisa jaga diri."})]}),(0,t.jsxs)("a",{href:"/article-menstruasi.html",className:"group block cursor-pointer rounded-2xl border border-slate-200 bg-white p-3 shadow-sm transition-all duration-300 hover:-translate-y-2 hover:text-pink-600 dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsx)("div",{className:"mb-2 h-48 w-full rounded-xl bg-cover bg-top",style:{backgroundImage:"url(/image/article-image-3.png)"},"aria-hidden":"true"}),(0,t.jsx)("span",{className:"font-medium",children:"Menstruasi Pertama: Kenapa Bisa Terjadi dan Gak Usah Takut!"}),(0,t.jsx)("p",{className:"text-sm leading-relaxed text-gray-600 dark:text-slate-400",children:"Menstruasi pertama itu alami, yuk siapin diri biar gak panik."})]})]})]})]})}),r?(0,t.jsx)(g,{value:"report",children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("section",{className:"grid grid-cols-1",children:(0,t.jsx)(eN,{})}),(0,t.jsxs)("section",{className:"mb-6 grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"rounded-3xl border border-pink-100 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Tren panjang siklus"}),(0,t.jsx)(eV,{points:V})]}),(0,t.jsxs)("div",{className:"rounded-3xl border border-pink-100 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Rekap siklusmu"}),(0,t.jsxs)("ul",{className:"mt-4 space-y-3 text-sm text-slate-600",children:[(0,t.jsxs)("li",{className:"flex items-center justify-between rounded-2xl bg-pink-50 px-4 py-3",children:[(0,t.jsx)("span",{children:"Rata-rata siklus"}),(0,t.jsxs)("span",{className:"font-semibold text-pink-600",children:[z.averageCycleLength," hari"]})]}),(0,t.jsxs)("li",{className:"flex items-center justify-between rounded-2xl bg-pink-50 px-4 py-3",children:[(0,t.jsx)("span",{children:"Rata-rata menstruasi"}),(0,t.jsxs)("span",{className:"font-semibold text-pink-600",children:[z.averagePeriodLength," hari"]})]}),(0,t.jsxs)("li",{className:"flex items-center justify-between rounded-2xl bg-pink-50 px-4 py-3",children:[(0,t.jsx)("span",{children:"Mood dominan"}),(0,t.jsx)("span",{className:"capitalize font-semibold text-pink-600",children:U.dominantMood})]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-3xl border border-pink-100 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Unduh laporan"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Simpan sebagai PNG untuk dibaca kapan saja."})]}),(0,t.jsx)(eJ,{filename:"siklusku-report.png",stats:{averageCycleLength:z.averageCycleLength,averagePeriodLength:z.averagePeriodLength,dominantMood:U.dominantMood,moodEntries:B.length},legend:q})]})]})}):null]})]})}():null,(0,t.jsx)(eC,{open:_,onClose:()=>I(!1)})]})}eZ.propTypes={state:n.default.oneOf(["loading","gate","guide","form"])}}]);