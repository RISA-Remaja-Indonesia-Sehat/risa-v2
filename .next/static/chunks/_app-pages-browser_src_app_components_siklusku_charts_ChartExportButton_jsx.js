"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_src_app_components_siklusku_charts_ChartExportButton_jsx"],{

/***/ "(app-pages-browser)/./src/app/components/siklusku/charts/ChartExportButton.jsx":
/*!******************************************************************!*\
  !*** ./src/app/components/siklusku/charts/ChartExportButton.jsx ***!
  \******************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChartExportButton)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nconst CANVAS_SIZE = 1080;\nconst MAX_LEGEND = 5;\nfunction getLegendItems(legend) {\n    if (!Array.isArray(legend)) {\n        return [];\n    }\n    return legend.filter((item)=>item && Number(item.count) > 0).map((item)=>({\n            label: item.label || item.mood || \"-\",\n            mood: item.mood || item.label || \"-\",\n            count: Number(item.count) || 0,\n            color: item.color || \"#94a3b8\"\n        })).sort((a, b)=>b.count - a.count).slice(0, MAX_LEGEND);\n}\nfunction drawReport(context) {\n    let data = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, legendItems = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [];\n    const gradient = context.createLinearGradient(0, 0, CANVAS_SIZE, CANVAS_SIZE);\n    gradient.addColorStop(0, \"#fdf2f8\");\n    gradient.addColorStop(1, \"#fce7f3\");\n    context.fillStyle = gradient;\n    context.fillRect(0, 0, CANVAS_SIZE, CANVAS_SIZE);\n    context.fillStyle = \"#ec4899\";\n    context.font = \"bold 68px 'Poppins','Arial',sans-serif\";\n    context.fillText(\"Ringkasan Siklusku\", 80, 160);\n    var _data_averageCycleLength, _data_averagePeriodLength, _data_dominantMood, _data_moodEntries;\n    const stats = [\n        {\n            label: \"Rata-rata Siklus\",\n            value: \"\".concat((_data_averageCycleLength = data === null || data === void 0 ? void 0 : data.averageCycleLength) !== null && _data_averageCycleLength !== void 0 ? _data_averageCycleLength : \"-\", \" hari\")\n        },\n        {\n            label: \"Rata-rata Menstruasi\",\n            value: \"\".concat((_data_averagePeriodLength = data === null || data === void 0 ? void 0 : data.averagePeriodLength) !== null && _data_averagePeriodLength !== void 0 ? _data_averagePeriodLength : \"-\", \" hari\")\n        },\n        {\n            label: \"Mood Dominan\",\n            value: (_data_dominantMood = data === null || data === void 0 ? void 0 : data.dominantMood) !== null && _data_dominantMood !== void 0 ? _data_dominantMood : \"-\"\n        },\n        {\n            label: \"Total Log Mood\",\n            value: (_data_moodEntries = data === null || data === void 0 ? void 0 : data.moodEntries) !== null && _data_moodEntries !== void 0 ? _data_moodEntries : 0\n        }\n    ];\n    context.font = \"28px 'Inter','Arial',sans-serif\";\n    stats.forEach((item, index)=>{\n        const baseY = 260 + index * 120;\n        context.fillStyle = \"#ec4899\";\n        context.fillText(item.label, 80, baseY);\n        context.fillStyle = \"#1f2937\";\n        context.font = \"bold 42px 'Inter','Arial',sans-serif\";\n        context.fillText(String(item.value), 80, baseY + 52);\n        context.font = \"28px 'Inter','Arial',sans-serif\";\n    });\n    if (legendItems.length) {\n        const legendStartX = 640;\n        context.font = \"bold 32px 'Inter','Arial',sans-serif\";\n        legendItems.forEach((item, index)=>{\n            const baseY = 260 + index * 90;\n            context.fillStyle = item.color;\n            context.fillRect(legendStartX, baseY - 28, 36, 36);\n            context.fillStyle = \"#1f2937\";\n            context.fillText(item.label, legendStartX + 52, baseY);\n            context.font = \"24px 'Inter','Arial',sans-serif\";\n            context.fillStyle = \"#6b7280\";\n            context.fillText(\"\".concat(item.count, \"x\"), legendStartX + 52, baseY + 26);\n            context.font = \"bold 32px 'Inter','Arial',sans-serif\";\n        });\n    }\n    context.fillStyle = \"#6b7280\";\n    context.font = \"24px 'Inter','Arial',sans-serif\";\n    context.fillText(\"Generated with RISA Siklusku\", 80, CANVAS_SIZE - 120);\n    context.fillText(new Date().toLocaleDateString(), 80, CANVAS_SIZE - 80);\n}\nfunction buildShareSummary() {\n    let data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, legendItems = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n    var _data_averageCycleLength, _data_averagePeriodLength, _data_dominantMood, _data_moodEntries;\n    const lines = [\n        \"Ringkasan Siklusku\",\n        \"Rata-rata siklus: \".concat((_data_averageCycleLength = data === null || data === void 0 ? void 0 : data.averageCycleLength) !== null && _data_averageCycleLength !== void 0 ? _data_averageCycleLength : \"-\", \" hari\"),\n        \"Rata-rata menstruasi: \".concat((_data_averagePeriodLength = data === null || data === void 0 ? void 0 : data.averagePeriodLength) !== null && _data_averagePeriodLength !== void 0 ? _data_averagePeriodLength : \"-\", \" hari\"),\n        \"Mood dominan: \".concat((_data_dominantMood = data === null || data === void 0 ? void 0 : data.dominantMood) !== null && _data_dominantMood !== void 0 ? _data_dominantMood : \"-\"),\n        \"Total log mood: \".concat((_data_moodEntries = data === null || data === void 0 ? void 0 : data.moodEntries) !== null && _data_moodEntries !== void 0 ? _data_moodEntries : 0)\n    ];\n    if (legendItems.length) {\n        const top = legendItems.slice(0, 3).map((item)=>\"\".concat(item.label, \" (\").concat(item.count, \"x)\")).join(\", \");\n        lines.push(\"Mood terbanyak 30 hari terakhir: \".concat(top));\n    }\n    lines.push(\"Unduh PNG di aplikasi Siklusku ðŸ’—\");\n    return lines.join(\"\\n\");\n}\nfunction ChartExportButton(param) {\n    let { filename = \"siklusku-report.png\", stats, legend } = param;\n    _s();\n    const [downloading, setDownloading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sharing, setSharing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const legendItems = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ChartExportButton.useMemo[legendItems]\": ()=>getLegendItems(legend)\n    }[\"ChartExportButton.useMemo[legendItems]\"], [\n        legend\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ChartExportButton.useEffect\": ()=>{\n            if (!status) {\n                return undefined;\n            }\n            const timeout = setTimeout({\n                \"ChartExportButton.useEffect.timeout\": ()=>setStatus(null)\n            }[\"ChartExportButton.useEffect.timeout\"], 3500);\n            return ({\n                \"ChartExportButton.useEffect\": ()=>clearTimeout(timeout)\n            })[\"ChartExportButton.useEffect\"];\n        }\n    }[\"ChartExportButton.useEffect\"], [\n        status\n    ]);\n    function createCanvas() {\n        const dpr = Math.max(1, Math.floor(window.devicePixelRatio || 1));\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = CANVAS_SIZE * dpr;\n        canvas.height = CANVAS_SIZE * dpr;\n        const context = canvas.getContext(\"2d\");\n        context.scale(dpr, dpr);\n        drawReport(context, stats, legendItems);\n        return canvas;\n    }\n    function handleDownload() {\n        if (downloading) {\n            return;\n        }\n        setDownloading(true);\n        try {\n            const canvas = createCanvas();\n            const url = canvas.toDataURL(\"image/png\");\n            const link = document.createElement(\"a\");\n            link.href = url;\n            link.download = filename;\n            link.click();\n        } finally{\n            setDownloading(false);\n        }\n    }\n    function handleShare() {\n        if (sharing) {\n            return;\n        }\n        if ( false || typeof navigator === \"undefined\") {\n            setStatus(\"Bagikan tidak tersedia di perangkat ini\");\n            return;\n        }\n        setSharing(true);\n        const canvas = createCanvas();\n        const summary = buildShareSummary(stats, legendItems);\n        canvas.toBlob(async (blob)=>{\n            if (!blob) {\n                setStatus(\"Gagal menyiapkan ringkasan\");\n                setSharing(false);\n                return;\n            }\n            try {\n                const file = new File([\n                    blob\n                ], filename, {\n                    type: \"image/png\"\n                });\n                if (navigator.canShare && navigator.canShare({\n                    files: [\n                        file\n                    ]\n                })) {\n                    await navigator.share({\n                        files: [\n                            file\n                        ],\n                        title: \"Ringkasan Siklusku\",\n                        text: summary\n                    });\n                    setStatus(\"Berhasil dibagikan\");\n                } else if (navigator.clipboard && typeof navigator.clipboard.writeText === \"function\") {\n                    await navigator.clipboard.writeText(summary);\n                    setStatus(\"Ringkasan teks tersalin\");\n                } else {\n                    setStatus(\"Bagikan tidak tersedia di perangkat ini\");\n                }\n            } catch (error) {\n                setStatus(\"Gagal membagikan. Coba lagi ya.\");\n            } finally{\n                setSharing(false);\n            }\n        }, \"image/png\");\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col items-end gap-2\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"rounded-full border border-pink-200 bg-white px-4 py-2 text-sm font-medium text-pink-600 shadow-sm transition hover:scale-[1.01] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-500 disabled:opacity-50\",\n                        onClick: handleDownload,\n                        disabled: downloading,\n                        \"aria-label\": \"Unduh ringkasan PNG\",\n                        children: downloading ? \"Menyiapkan...\" : \"Export PNG\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\PI\\\\risa-v2\\\\src\\\\app\\\\components\\\\siklusku\\\\charts\\\\ChartExportButton.jsx\",\n                        lineNumber: 180,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"rounded-full border border-pink-200 bg-white px-4 py-2 text-sm font-medium text-pink-600 shadow-sm transition hover:scale-[1.01] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-500 disabled:opacity-50\",\n                        onClick: handleShare,\n                        disabled: sharing,\n                        \"aria-label\": \"Bagikan ringkasan\",\n                        children: sharing ? \"Menyiapkan...\" : \"Bagikan\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\PI\\\\risa-v2\\\\src\\\\app\\\\components\\\\siklusku\\\\charts\\\\ChartExportButton.jsx\",\n                        lineNumber: 189,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\PI\\\\risa-v2\\\\src\\\\app\\\\components\\\\siklusku\\\\charts\\\\ChartExportButton.jsx\",\n                lineNumber: 179,\n                columnNumber: 7\n            }, this),\n            status ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-xs text-slate-500 dark:text-slate-400\",\n                children: status\n            }, void 0, false, {\n                fileName: \"D:\\\\PI\\\\risa-v2\\\\src\\\\app\\\\components\\\\siklusku\\\\charts\\\\ChartExportButton.jsx\",\n                lineNumber: 199,\n                columnNumber: 17\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\PI\\\\risa-v2\\\\src\\\\app\\\\components\\\\siklusku\\\\charts\\\\ChartExportButton.jsx\",\n        lineNumber: 178,\n        columnNumber: 5\n    }, this);\n}\n_s(ChartExportButton, \"SYDWgoa7g8oZ3Zg9hV1BBxv/a78=\");\n_c = ChartExportButton;\nvar _c;\n$RefreshReg$(_c, \"ChartExportButton\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY29tcG9uZW50cy9zaWtsdXNrdS9jaGFydHMvQ2hhcnRFeHBvcnRCdXR0b24uanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUVxRDtBQUVyRCxNQUFNRyxjQUFjO0FBQ3BCLE1BQU1DLGFBQWE7QUFFbkIsU0FBU0MsZUFBZUMsTUFBTTtJQUM1QixJQUFJLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ0YsU0FBUztRQUMxQixPQUFPLEVBQUU7SUFDWDtJQUNBLE9BQU9BLE9BQ0pHLE1BQU0sQ0FBQyxDQUFDQyxPQUFTQSxRQUFRQyxPQUFPRCxLQUFLRSxLQUFLLElBQUksR0FDOUNDLEdBQUcsQ0FBQyxDQUFDSCxPQUFVO1lBQ2RJLE9BQU9KLEtBQUtJLEtBQUssSUFBSUosS0FBS0ssSUFBSSxJQUFJO1lBQ2xDQSxNQUFNTCxLQUFLSyxJQUFJLElBQUlMLEtBQUtJLEtBQUssSUFBSTtZQUNqQ0YsT0FBT0QsT0FBT0QsS0FBS0UsS0FBSyxLQUFLO1lBQzdCSSxPQUFPTixLQUFLTSxLQUFLLElBQUk7UUFDdkIsSUFDQ0MsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1BLEVBQUVQLEtBQUssR0FBR00sRUFBRU4sS0FBSyxFQUNoQ1EsS0FBSyxDQUFDLEdBQUdoQjtBQUNkO0FBRUEsU0FBU2lCLFdBQVdDLE9BQU87UUFBRUMsT0FBQUEsaUVBQU8sQ0FBQyxHQUFHQyxjQUFBQSxpRUFBYyxFQUFFO0lBQ3RELE1BQU1DLFdBQVdILFFBQVFJLG9CQUFvQixDQUFDLEdBQUcsR0FBR3ZCLGFBQWFBO0lBQ2pFc0IsU0FBU0UsWUFBWSxDQUFDLEdBQUc7SUFDekJGLFNBQVNFLFlBQVksQ0FBQyxHQUFHO0lBQ3pCTCxRQUFRTSxTQUFTLEdBQUdIO0lBQ3BCSCxRQUFRTyxRQUFRLENBQUMsR0FBRyxHQUFHMUIsYUFBYUE7SUFFcENtQixRQUFRTSxTQUFTLEdBQUc7SUFDcEJOLFFBQVFRLElBQUksR0FBRztJQUNmUixRQUFRUyxRQUFR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VUFBVVksU0FBUyxJQUFJLE9BQU9aLFVBQVVZLFNBQVMsQ0FBQ0MsU0FBUyxLQUFLLFlBQVk7b0JBQ3JGLE1BQU1iLFVBQVVZLFNBQVMsQ0FBQ0MsU0FBUyxDQUFDWjtvQkFDcEM1QixVQUFVO2dCQUNaLE9BQU87b0JBQ0xBLFVBQVU7Z0JBQ1o7WUFDRixFQUFFLE9BQU95QyxPQUFPO2dCQUNkekMsVUFBVTtZQUNaLFNBQVU7Z0JBQ1JGLFdBQVc7WUFDYjtRQUNGLEdBQUc7SUFDTDtJQUVBLHFCQUNFLDhEQUFDNEM7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0M7d0JBQ0NYLE1BQUs7d0JBQ0xVLFdBQVU7d0JBQ1ZFLFNBQVMxQjt3QkFDVDJCLFVBQVVuRDt3QkFDVm9ELGNBQVc7a0NBRVZwRCxjQUFjLGtCQUFrQjs7Ozs7O2tDQUVuQyw4REFBQ2lEO3dCQUNDWCxNQUFLO3dCQUNMVSxXQUFVO3dCQUNWRSxTQUFTbkI7d0JBQ1RvQixVQUFVakQ7d0JBQ1ZrRCxjQUFXO2tDQUVWbEQsVUFBVSxrQkFBa0I7Ozs7Ozs7Ozs7OztZQUdoQ0UsdUJBQVMsOERBQUNpRDtnQkFBRUwsV0FBVTswQkFBOEM1Qzs7Ozs7dUJBQWM7Ozs7Ozs7QUFHekY7R0ExR3dCTjtLQUFBQSIsInNvdXJjZXMiOlsiRDpcXFBJXFxyaXNhLXYyXFxzcmNcXGFwcFxcY29tcG9uZW50c1xcc2lrbHVza3VcXGNoYXJ0c1xcQ2hhcnRFeHBvcnRCdXR0b24uanN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5cclxuY29uc3QgQ0FOVkFTX1NJWkUgPSAxMDgwO1xyXG5jb25zdCBNQVhfTEVHRU5EID0gNTtcclxuXHJcbmZ1bmN0aW9uIGdldExlZ2VuZEl0ZW1zKGxlZ2VuZCkge1xyXG4gIGlmICghQXJyYXkuaXNBcnJheShsZWdlbmQpKSB7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG4gIHJldHVybiBsZWdlbmRcclxuICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gJiYgTnVtYmVyKGl0ZW0uY291bnQpID4gMClcclxuICAgIC5tYXAoKGl0ZW0pID0+ICh7XHJcbiAgICAgIGxhYmVsOiBpdGVtLmxhYmVsIHx8IGl0ZW0ubW9vZCB8fCBcIi1cIixcclxuICAgICAgbW9vZDogaXRlbS5tb29kIHx8IGl0ZW0ubGFiZWwgfHwgXCItXCIsXHJcbiAgICAgIGNvdW50OiBOdW1iZXIoaXRlbS5jb3VudCkgfHwgMCxcclxuICAgICAgY29sb3I6IGl0ZW0uY29sb3IgfHwgXCIjOTRhM2I4XCJcclxuICAgIH0pKVxyXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuY291bnQgLSBhLmNvdW50KVxyXG4gICAgLnNsaWNlKDAsIE1BWF9MRUdFTkQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3UmVwb3J0KGNvbnRleHQsIGRhdGEgPSB7fSwgbGVnZW5kSXRlbXMgPSBbXSkge1xyXG4gIGNvbnN0IGdyYWRpZW50ID0gY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCBDQU5WQVNfU0laRSwgQ0FOVkFTX1NJWkUpO1xyXG4gIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCBcIiNmZGYyZjhcIik7XHJcbiAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsIFwiI2ZjZTdmM1wiKTtcclxuICBjb250ZXh0LmZpbGxTdHlsZSA9IGdyYWRpZW50O1xyXG4gIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgQ0FOVkFTX1NJWkUsIENBTlZBU19TSVpFKTtcclxuXHJcbiAgY29udGV4dC5maWxsU3R5bGUgPSBcIiNlYzQ4OTlcIjtcclxuICBjb250ZXh0LmZvbnQgPSBcImJvbGQgNjhweCAnUG9wcGlucycsJ0FyaWFsJyxzYW5zLXNlcmlmXCI7XHJcbiAgY29udGV4dC5maWxsVGV4dChcIlJpbmdrYXNhbiBTaWtsdXNrdVwiLCA4MCwgMTYwKTtcclxuXHJcbiAgY29uc3Qgc3RhdHMgPSBbXHJcbiAgICB7IGxhYmVsOiBcIlJhdGEtcmF0YSBTaWtsdXNcIiwgdmFsdWU6IGAke2RhdGE/LmF2ZXJhZ2VDeWNsZUxlbmd0aCA/PyBcIi1cIn0gaGFyaWAgfSxcclxuICAgIHsgbGFiZWw6IFwiUmF0YS1yYXRhIE1lbnN0cnVhc2lcIiwgdmFsdWU6IGAke2RhdGE/LmF2ZXJhZ2VQZXJpb2RMZW5ndGggPz8gXCItXCJ9IGhhcmlgIH0sXHJcbiAgICB7IGxhYmVsOiBcIk1vb2QgRG9taW5hblwiLCB2YWx1ZTogZGF0YT8uZG9taW5hbnRNb29kID8/IFwiLVwiIH0sXHJcbiAgICB7IGxhYmVsOiBcIlRvdGFsIExvZyBNb29kXCIsIHZhbHVlOiBkYXRhPy5tb29kRW50cmllcyA/PyAwIH1cclxuICBdO1xyXG5cclxuICBjb250ZXh0LmZvbnQgPSBcIjI4cHggJ0ludGVyJywnQXJpYWwnLHNhbnMtc2VyaWZcIjtcclxuICBzdGF0cy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgY29uc3QgYmFzZVkgPSAyNjAgKyBpbmRleCAqIDEyMDtcclxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCIjZWM0ODk5XCI7XHJcbiAgICBjb250ZXh0LmZpbGxUZXh0KGl0ZW0ubGFiZWwsIDgwLCBiYXNlWSk7XHJcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiIzFmMjkzN1wiO1xyXG4gICAgY29udGV4dC5mb250ID0gXCJib2xkIDQycHggJ0ludGVyJywnQXJpYWwnLHNhbnMtc2VyaWZcIjtcclxuICAgIGNvbnRleHQuZmlsbFRleHQoU3RyaW5nKGl0ZW0udmFsdWUpLCA4MCwgYmFzZVkgKyA1Mik7XHJcbiAgICBjb250ZXh0LmZvbnQgPSBcIjI4cHggJ0ludGVyJywnQXJpYWwnLHNhbnMtc2VyaWZcIjtcclxuICB9KTtcclxuXHJcbiAgaWYgKGxlZ2VuZEl0ZW1zLmxlbmd0aCkge1xyXG4gICAgY29uc3QgbGVnZW5kU3RhcnRYID0gNjQwO1xyXG4gICAgY29udGV4dC5mb250ID0gXCJib2xkIDMycHggJ0ludGVyJywnQXJpYWwnLHNhbnMtc2VyaWZcIjtcclxuICAgIGxlZ2VuZEl0ZW1zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGNvbnN0IGJhc2VZID0gMjYwICsgaW5kZXggKiA5MDtcclxuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBpdGVtLmNvbG9yO1xyXG4gICAgICBjb250ZXh0LmZpbGxSZWN0KGxlZ2VuZFN0YXJ0WCwgYmFzZVkgLSAyOCwgMzYsIDM2KTtcclxuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiMxZjI5MzdcIjtcclxuICAgICAgY29udGV4dC5maWxsVGV4dChpdGVtLmxhYmVsLCBsZWdlbmRTdGFydFggKyA1MiwgYmFzZVkpO1xyXG4gICAgICBjb250ZXh0LmZvbnQgPSBcIjI0cHggJ0ludGVyJywnQXJpYWwnLHNhbnMtc2VyaWZcIjtcclxuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiM2YjcyODBcIjtcclxuICAgICAgY29udGV4dC5maWxsVGV4dChgJHtpdGVtLmNvdW50fXhgLCBsZWdlbmRTdGFydFggKyA1MiwgYmFzZVkgKyAyNik7XHJcbiAgICAgIGNvbnRleHQuZm9udCA9IFwiYm9sZCAzMnB4ICdJbnRlcicsJ0FyaWFsJyxzYW5zLXNlcmlmXCI7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnRleHQuZmlsbFN0eWxlID0gXCIjNmI3MjgwXCI7XHJcbiAgY29udGV4dC5mb250ID0gXCIyNHB4ICdJbnRlcicsJ0FyaWFsJyxzYW5zLXNlcmlmXCI7XHJcbiAgY29udGV4dC5maWxsVGV4dChcIkdlbmVyYXRlZCB3aXRoIFJJU0EgU2lrbHVza3VcIiwgODAsIENBTlZBU19TSVpFIC0gMTIwKTtcclxuICBjb250ZXh0LmZpbGxUZXh0KG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCksIDgwLCBDQU5WQVNfU0laRSAtIDgwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYnVpbGRTaGFyZVN1bW1hcnkoZGF0YSA9IHt9LCBsZWdlbmRJdGVtcyA9IFtdKSB7XHJcbiAgY29uc3QgbGluZXMgPSBbXHJcbiAgICBcIlJpbmdrYXNhbiBTaWtsdXNrdVwiLFxyXG4gICAgYFJhdGEtcmF0YSBzaWtsdXM6ICR7ZGF0YT8uYXZlcmFnZUN5Y2xlTGVuZ3RoID8/IFwiLVwifSBoYXJpYCxcclxuICAgIGBSYXRhLXJhdGEgbWVuc3RydWFzaTogJHtkYXRhPy5hdmVyYWdlUGVyaW9kTGVuZ3RoID8/IFwiLVwifSBoYXJpYCxcclxuICAgIGBNb29kIGRvbWluYW46ICR7ZGF0YT8uZG9taW5hbnRNb29kID8/IFwiLVwifWAsXHJcbiAgICBgVG90YWwgbG9nIG1vb2Q6ICR7ZGF0YT8ubW9vZEVudHJpZXMgPz8gMH1gXHJcbiAgXTtcclxuXHJcbiAgaWYgKGxlZ2VuZEl0ZW1zLmxlbmd0aCkge1xyXG4gICAgY29uc3QgdG9wID0gbGVnZW5kSXRlbXNcclxuICAgICAgLnNsaWNlKDAsIDMpXHJcbiAgICAgIC5tYXAoKGl0ZW0pID0+IGAke2l0ZW0ubGFiZWx9ICgke2l0ZW0uY291bnR9eClgKVxyXG4gICAgICAuam9pbihcIiwgXCIpO1xyXG4gICAgbGluZXMucHVzaChgTW9vZCB0ZXJiYW55YWsgMzAgaGFyaSB0ZXJha2hpcjogJHt0b3B9YCk7XHJcbiAgfVxyXG5cclxuICBsaW5lcy5wdXNoKFwiVW5kdWggUE5HIGRpIGFwbGlrYXNpIFNpa2x1c2t1IPCfkpdcIik7XHJcbiAgcmV0dXJuIGxpbmVzLmpvaW4oXCJcXG5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXJ0RXhwb3J0QnV0dG9uKHsgZmlsZW5hbWUgPSBcInNpa2x1c2t1LXJlcG9ydC5wbmdcIiwgc3RhdHMsIGxlZ2VuZCB9KSB7XHJcbiAgY29uc3QgW2Rvd25sb2FkaW5nLCBzZXREb3dubG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3NoYXJpbmcsIHNldFNoYXJpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbiAgY29uc3QgbGVnZW5kSXRlbXMgPSB1c2VNZW1vKCgpID0+IGdldExlZ2VuZEl0ZW1zKGxlZ2VuZCksIFtsZWdlbmRdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghc3RhdHVzKSB7XHJcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBzZXRTdGF0dXMobnVsbCksIDM1MDApO1xyXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICB9LCBbc3RhdHVzXSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUNhbnZhcygpIHtcclxuICAgIGNvbnN0IGRwciA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3Iod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpO1xyXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgIGNhbnZhcy53aWR0aCA9IENBTlZBU19TSVpFICogZHByO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IENBTlZBU19TSVpFICogZHByO1xyXG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICBjb250ZXh0LnNjYWxlKGRwciwgZHByKTtcclxuICAgIGRyYXdSZXBvcnQoY29udGV4dCwgc3RhdHMsIGxlZ2VuZEl0ZW1zKTtcclxuICAgIHJldHVybiBjYW52YXM7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVEb3dubG9hZCgpIHtcclxuICAgIGlmIChkb3dubG9hZGluZykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBzZXREb3dubG9hZGluZyh0cnVlKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGNyZWF0ZUNhbnZhcygpO1xyXG4gICAgICBjb25zdCB1cmwgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xyXG4gICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgICAgIGxpbmsuaHJlZiA9IHVybDtcclxuICAgICAgbGluay5kb3dubG9hZCA9IGZpbGVuYW1lO1xyXG4gICAgICBsaW5rLmNsaWNrKCk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXREb3dubG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVTaGFyZSgpIHtcclxuICAgIGlmIChzaGFyaW5nKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBuYXZpZ2F0b3IgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgc2V0U3RhdHVzKFwiQmFnaWthbiB0aWRhayB0ZXJzZWRpYSBkaSBwZXJhbmdrYXQgaW5pXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U2hhcmluZyh0cnVlKTtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGNyZWF0ZUNhbnZhcygpO1xyXG4gICAgY29uc3Qgc3VtbWFyeSA9IGJ1aWxkU2hhcmVTdW1tYXJ5KHN0YXRzLCBsZWdlbmRJdGVtcyk7XHJcblxyXG4gICAgY2FudmFzLnRvQmxvYihhc3luYyAoYmxvYikgPT4ge1xyXG4gICAgICBpZiAoIWJsb2IpIHtcclxuICAgICAgICBzZXRTdGF0dXMoXCJHYWdhbCBtZW55aWFwa2FuIHJpbmdrYXNhblwiKTtcclxuICAgICAgICBzZXRTaGFyaW5nKGZhbHNlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBmaWxlID0gbmV3IEZpbGUoW2Jsb2JdLCBmaWxlbmFtZSwgeyB0eXBlOiBcImltYWdlL3BuZ1wiIH0pO1xyXG4gICAgICAgIGlmIChuYXZpZ2F0b3IuY2FuU2hhcmUgJiYgbmF2aWdhdG9yLmNhblNoYXJlKHsgZmlsZXM6IFtmaWxlXSB9KSkge1xyXG4gICAgICAgICAgYXdhaXQgbmF2aWdhdG9yLnNoYXJlKHsgZmlsZXM6IFtmaWxlXSwgdGl0bGU6IFwiUmluZ2thc2FuIFNpa2x1c2t1XCIsIHRleHQ6IHN1bW1hcnkgfSk7XHJcbiAgICAgICAgICBzZXRTdGF0dXMoXCJCZXJoYXNpbCBkaWJhZ2lrYW5cIik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkICYmIHR5cGVvZiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChzdW1tYXJ5KTtcclxuICAgICAgICAgIHNldFN0YXR1cyhcIlJpbmdrYXNhbiB0ZWtzIHRlcnNhbGluXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZXRTdGF0dXMoXCJCYWdpa2FuIHRpZGFrIHRlcnNlZGlhIGRpIHBlcmFuZ2thdCBpbmlcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHNldFN0YXR1cyhcIkdhZ2FsIG1lbWJhZ2lrYW4uIENvYmEgbGFnaSB5YS5cIik7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgc2V0U2hhcmluZyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH0sIFwiaW1hZ2UvcG5nXCIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1lbmQgZ2FwLTJcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItcGluay0yMDAgYmctd2hpdGUgcHgtNCBweS0yIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1waW5rLTYwMCBzaGFkb3ctc20gdHJhbnNpdGlvbiBob3ZlcjpzY2FsZS1bMS4wMV0gZm9jdXMtdmlzaWJsZTpvdXRsaW5lIGZvY3VzLXZpc2libGU6b3V0bGluZS0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtcGluay01MDAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXHJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZH1cclxuICAgICAgICAgIGRpc2FibGVkPXtkb3dubG9hZGluZ31cclxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJVbmR1aCByaW5na2FzYW4gUE5HXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICB7ZG93bmxvYWRpbmcgPyBcIk1lbnlpYXBrYW4uLi5cIiA6IFwiRXhwb3J0IFBOR1wifVxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItcGluay0yMDAgYmctd2hpdGUgcHgtNCBweS0yIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1waW5rLTYwMCBzaGFkb3ctc20gdHJhbnNpdGlvbiBob3ZlcjpzY2FsZS1bMS4wMV0gZm9jdXMtdmlzaWJsZTpvdXRsaW5lIGZvY3VzLXZpc2libGU6b3V0bGluZS0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtcGluay01MDAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXHJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTaGFyZX1cclxuICAgICAgICAgIGRpc2FibGVkPXtzaGFyaW5nfVxyXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkJhZ2lrYW4gcmluZ2thc2FuXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICB7c2hhcmluZyA/IFwiTWVueWlhcGthbi4uLlwiIDogXCJCYWdpa2FuXCJ9XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICB7c3RhdHVzID8gPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMCBkYXJrOnRleHQtc2xhdGUtNDAwXCI+e3N0YXR1c308L3A+IDogbnVsbH1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsIkNBTlZBU19TSVpFIiwiTUFYX0xFR0VORCIsImdldExlZ2VuZEl0ZW1zIiwibGVnZW5kIiwiQXJyYXkiLCJpc0FycmF5IiwiZmlsdGVyIiwiaXRlbSIsIk51bWJlciIsImNvdW50IiwibWFwIiwibGFiZWwiLCJtb29kIiwiY29sb3IiLCJzb3J0IiwiYSIsImIiLCJzbGljZSIsImRyYXdSZXBvcnQiLCJjb250ZXh0IiwiZGF0YSIsImxlZ2VuZEl0ZW1zIiwiZ3JhZGllbnQiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZm9udCIsImZpbGxUZXh0Iiwic3RhdHMiLCJ2YWx1ZSIsImF2ZXJhZ2VDeWNsZUxlbmd0aCIsImF2ZXJhZ2VQZXJpb2RMZW5ndGgiLCJkb21pbmFudE1vb2QiLCJtb29kRW50cmllcyIsImZvckVhY2giLCJpbmRleCIsImJhc2VZIiwiU3RyaW5nIiwibGVuZ3RoIiwibGVnZW5kU3RhcnRYIiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImJ1aWxkU2hhcmVTdW1tYXJ5IiwibGluZXMiLCJ0b3AiLCJqb2luIiwicHVzaCIsIkNoYXJ0RXhwb3J0QnV0dG9uIiwiZmlsZW5hbWUiLCJkb3dubG9hZGluZyIsInNldERvd25sb2FkaW5nIiwic2hhcmluZyIsInNldFNoYXJpbmciLCJzdGF0dXMiLCJzZXRTdGF0dXMiLCJ1bmRlZmluZWQiLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImNyZWF0ZUNhbnZhcyIsImRwciIsIk1hdGgiLCJtYXgiLCJmbG9vciIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ3aWR0aCIsImhlaWdodCIsImdldENvbnRleHQiLCJzY2FsZSIsImhhbmRsZURvd25sb2FkIiwidXJsIiwidG9EYXRhVVJMIiwibGluayIsImhyZWYiLCJkb3dubG9hZCIsImNsaWNrIiwiaGFuZGxlU2hhcmUiLCJuYXZpZ2F0b3IiLCJzdW1tYXJ5IiwidG9CbG9iIiwiYmxvYiIsImZpbGUiLCJGaWxlIiwidHlwZSIsImNhblNoYXJlIiwiZmlsZXMiLCJzaGFyZSIsInRpdGxlIiwidGV4dCIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImVycm9yIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwiYXJpYS1sYWJlbCIsInAiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/components/siklusku/charts/ChartExportButton.jsx\n"));

/***/ })

}]);